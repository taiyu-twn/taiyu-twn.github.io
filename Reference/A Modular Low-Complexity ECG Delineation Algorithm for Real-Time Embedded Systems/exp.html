<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="mobile-web-app-capable" content="yes">
    <title>
        A Modular Low-Complexity ECG Delineation Algorithm for Real-Time Embedded Systems - HackMD
    </title>
    <link rel="icon" type="image/png" href="https://hackmd.io/favicon.png">
    <link rel="apple-touch-icon" href="https://hackmd.io/apple-touch-icon.png">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css" integrity="sha256-3iu9jgsy9TpTwXKb7bNQzqWekRX7pPK+2OLj3R922fo=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/octicons/3.5.0/octicons.min.css" integrity="sha256-QiWfLIsCT02Sdwkogf6YMiQlj4NE84MKkzEMkZnMGdg=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.1/themes/prism.min.css" integrity="sha256-vtR0hSWRc3Tb26iuN2oZHt3KRUomwTufNIf5/4oeCyg=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/styles/github-gist.min.css" integrity="sha256-tAflq+ymku3Khs+I/WcAneIlafYgDiOQ9stIHH985Wo=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/emojify.js/1.1.0/css/basic/emojify.min.css" integrity="sha256-UOrvMOsSDSrW6szVLe8ZDZezBxh5IoIfgTwdNDgTjiU=" crossorigin="anonymous" />
    <style>
        @import url(https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400italic,600,600italic,300italic,300|Source+Serif+Pro|Source+Code+Pro:400,300,500&subset=latin,latin-ext);.markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;font-size:16px;line-height:1.5;word-wrap:break-word}.markdown-body:after,.markdown-body:before{display:table;content:""}.markdown-body:after{clear:both}.markdown-body>:first-child{margin-top:0!important}.markdown-body>:last-child{margin-bottom:0!important}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body .absent{color:#c00}.markdown-body .anchor{float:left;padding-right:4px;margin-left:-20px;line-height:1}.markdown-body .anchor:focus{outline:none}.markdown-body blockquote,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{margin-top:0;margin-bottom:16px}.markdown-body hr{height:.25em;padding:0;margin:24px 0;background-color:#e7e7e7;border:0}.markdown-body blockquote{padding:0 1em;color:#777;border-left:.25em solid #ddd}.markdown-body blockquote>:first-child{margin-top:0}.markdown-body blockquote>:last-child{margin-bottom:0}.markdown-body .loweralpha{list-style-type:lower-alpha}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link{color:#000;vertical-align:middle;visibility:hidden}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link,.markdown-body h3:hover .anchor .octicon-link,.markdown-body h4:hover .anchor .octicon-link,.markdown-body h5:hover .anchor .octicon-link,.markdown-body h6:hover .anchor .octicon-link{visibility:visible}.markdown-body h1 code,.markdown-body h1 tt,.markdown-body h2 code,.markdown-body h2 tt,.markdown-body h3 code,.markdown-body h3 tt,.markdown-body h4 code,.markdown-body h4 tt,.markdown-body h5 code,.markdown-body h5 tt,.markdown-body h6 code,.markdown-body h6 tt{font-size:inherit}.markdown-body h1{font-size:2em}.markdown-body h1,.markdown-body h2{padding-bottom:.3em;border-bottom:1px solid #eee}.markdown-body h2{font-size:1.5em}.markdown-body h3{font-size:1.25em}.markdown-body h4{font-size:1em}.markdown-body h5{font-size:.875em}.markdown-body h6{font-size:.85em;color:#777}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol.no-list,.markdown-body ul.no-list{padding:0;list-style-type:none}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:0;margin-bottom:0}.markdown-body li>p{margin-top:16px}.markdown-body li+li{margin-top:.25em}.markdown-body dl{padding:0}.markdown-body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}.markdown-body dl dd{padding:0 16px;margin-bottom:16px}.markdown-body table{display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}.markdown-body table th{font-weight:700}.markdown-body table td,.markdown-body table th{padding:6px 13px;border:1px solid #ddd}.markdown-body table tr{background-color:#fff;border-top:1px solid #ccc}.markdown-body table tr:nth-child(2n){background-color:#f8f8f8}.markdown-body img{max-width:100%;box-sizing:content-box;background-color:#fff}.markdown-body img[align=right]{padding-left:20px}.markdown-body img[align=left]{padding-right:20px}.markdown-body .emoji{max-width:none;vertical-align:text-top;background-color:transparent}.markdown-body span.frame{display:block;overflow:hidden}.markdown-body span.frame>span{display:block;float:left;width:auto;padding:7px;margin:13px 0 0;overflow:hidden;border:1px solid #ddd}.markdown-body span.frame span img{display:block;float:left}.markdown-body span.frame span span{display:block;padding:5px 0 0;clear:both;color:#333}.markdown-body span.align-center{display:block;overflow:hidden;clear:both}.markdown-body span.align-center>span{display:block;margin:13px auto 0;overflow:hidden;text-align:center}.markdown-body span.align-center span img{margin:0 auto;text-align:center}.markdown-body span.align-right{display:block;overflow:hidden;clear:both}.markdown-body span.align-right>span{display:block;margin:13px 0 0;overflow:hidden;text-align:right}.markdown-body span.align-right span img{margin:0;text-align:right}.markdown-body span.float-left{display:block;float:left;margin-right:13px;overflow:hidden}.markdown-body span.float-left span{margin:13px 0 0}.markdown-body span.float-right{display:block;float:right;margin-left:13px;overflow:hidden}.markdown-body span.float-right>span{display:block;margin:13px auto 0;overflow:hidden;text-align:right}.markdown-body code,.markdown-body tt{padding:0;padding-top:.2em;padding-bottom:.2em;margin:0;font-size:85%;background-color:rgba(0,0,0,.04);border-radius:3px}.markdown-body code:after,.markdown-body code:before,.markdown-body tt:after,.markdown-body tt:before{letter-spacing:-.2em;content:"\A0"}.markdown-body code br,.markdown-body tt br{display:none}.markdown-body del code{text-decoration:inherit}.markdown-body pre{word-wrap:normal}.markdown-body pre>code{padding:0;margin:0;font-size:100%;word-break:normal;white-space:pre;background:transparent;border:0}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f7f7f7;border-radius:3px}.markdown-body pre code,.markdown-body pre tt{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}.markdown-body pre code:after,.markdown-body pre code:before,.markdown-body pre tt:after,.markdown-body pre tt:before{content:normal}.markdown-body .csv-data td,.markdown-body .csv-data th{padding:5px;overflow:hidden;font-size:12px;line-height:1;text-align:left;white-space:nowrap}.markdown-body .csv-data .blob-line-num{padding:10px 8px 9px;text-align:right;background:#fff;border:0}.markdown-body .csv-data tr{border-top:0}.markdown-body .csv-data th{font-weight:700;background:#f8f8f8;border-top:0}.markdown-body kbd{display:inline-block;padding:3px 5px;font-size:11px;line-height:10px;color:#555;vertical-align:middle;background-color:#fcfcfc;border:1px solid #ccc;border-bottom-color:#bbb;border-radius:3px;box-shadow:inset 0 -1px 0 #bbb}.news .alert .markdown-body blockquote{padding:0 0 0 40px;border:0 none}.activity-tab .news .alert .commits,.activity-tab .news .markdown-body blockquote{padding-left:0}.task-list-item{list-style-type:none}.task-list-item label{font-weight:400}.task-list-item.enabled label{cursor:pointer}.task-list-item+.task-list-item{margin-top:3px}.task-list-item-checkbox{float:left;margin:.31em 0 .2em -1.3em!important;vertical-align:middle;cursor:default!important}.markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,Arial,sans-serif;padding-top:40px;padding-bottom:40px;max-width:758px;overflow:visible!important}.markdown-body pre{border:inherit!important}.markdown-body code{color:inherit!important}.markdown-body pre code .wrapper{display:-moz-inline-flex;display:-ms-inline-flex;display:-o-inline-flex;display:inline-flex}.markdown-body pre code .gutter{float:left;overflow:hidden;-webkit-user-select:none;user-select:none}.markdown-body pre code .gutter.linenumber{text-align:right;position:relative;display:inline-block;cursor:default;z-index:4;padding:0 8px 0 0;min-width:20px;box-sizing:content-box;color:#afafaf!important;border-right:3px solid #6ce26c!important}.markdown-body pre code .gutter.linenumber>span:before{content:attr(data-linenumber)}.markdown-body pre code .code{float:left;margin:0 0 0 16px}.markdown-body .gist .line-numbers{border-left:none;border-top:none;border-bottom:none}.markdown-body .gist .line-data{border:none}.markdown-body .gist table{border-spacing:0;border-collapse:inherit!important}.markdown-body code[data-gist-id]{background:none;padding:0}.markdown-body code[data-gist-id]:after,.markdown-body code[data-gist-id]:before{content:""}.markdown-body code[data-gist-id] .blob-num{border:unset}.markdown-body code[data-gist-id] table{overflow:unset;margin-bottom:unset}.markdown-body code[data-gist-id] table tr{background:unset}.markdown-body[dir=rtl] pre{direction:ltr}.markdown-body[dir=rtl] code{direction:ltr;unicode-bidi:embed}.markdown-body .alert>p{margin-bottom:0}.markdown-body pre.abc,.markdown-body pre.flow-chart,.markdown-body pre.graphviz,.markdown-body pre.mermaid,.markdown-body pre.sequence-diagram{text-align:center;background-color:inherit;border-radius:0;white-space:inherit}.markdown-body pre.abc>code,.markdown-body pre.flow-chart>code,.markdown-body pre.graphviz>code,.markdown-body pre.mermaid>code,.markdown-body pre.sequence-diagram>code{text-align:left}.markdown-body pre.abc>svg,.markdown-body pre.flow-chart>svg,.markdown-body pre.graphviz>svg,.markdown-body pre.mermaid>svg,.markdown-body pre.sequence-diagram>svg{max-width:100%;height:100%}.markdown-body pre>code.wrap{white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}.markdown-body .alert>p,.markdown-body .alert>ul{margin-bottom:0}.markdown-body summary{display:list-item}.markdown-body summary:focus{outline:none}.markdown-body details summary{cursor:pointer}.markdown-body details:not([open])>:not(summary){display:none}.markdown-body figure{margin:1em 40px}.vimeo,.youtube{cursor:pointer;display:table;text-align:center;background-position:50%;background-repeat:no-repeat;background-size:contain;background-color:#000;overflow:hidden}.vimeo,.youtube{position:relative;width:100%}.youtube{padding-bottom:56.25%}.vimeo img{width:100%;object-fit:contain;z-index:0}.youtube img{object-fit:cover;z-index:0}.vimeo iframe,.youtube iframe,.youtube img{width:100%;height:100%;position:absolute;top:0;left:0}.vimeo iframe,.youtube iframe{vertical-align:middle;z-index:1}.vimeo .icon,.youtube .icon{position:absolute;height:auto;width:auto;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;opacity:.3;transition:opacity .2s;z-index:0}.vimeo:hover .icon,.youtube:hover .icon{opacity:.6;transition:opacity .2s}.slideshare .inner,.speakerdeck .inner{position:relative;width:100%}.slideshare .inner iframe,.speakerdeck .inner iframe{position:absolute;top:0;bottom:0;left:0;right:0;width:100%;height:100%}.MJX_Assistive_MathML{display:none}.ui-infobar{position:relative;z-index:2;max-width:758px;margin-top:25px;margin-bottom:-25px;color:#777}.ui-toc{position:fixed;bottom:20px;z-index:10000}.ui-toc-label{opacity:.3;background-color:#ccc;border:none;transition:opacity .2s}.ui-toc .open .ui-toc-label{opacity:1;color:#fff;transition:opacity .2s}.ui-toc-label:focus{opacity:.3;background-color:#ccc;color:#000}.ui-toc-label:hover{opacity:1;background-color:#ccc;transition:opacity .2s}.ui-toc-dropdown{margin-top:23px;margin-bottom:20px;padding-left:10px;padding-right:10px;max-width:45vw;width:25vw;max-height:70vh;overflow:auto;text-align:inherit}.ui-toc-dropdown>.toc{max-height:calc(70vh - 100px);overflow:auto}.ui-toc-dropdown[dir=rtl] .nav{padding-right:0;letter-spacing:.0029em}.ui-toc-dropdown a{overflow:hidden;text-overflow:ellipsis;white-space:pre}.ui-toc-dropdown .nav>li>a{display:block;padding:4px 20px;font-size:13px;font-weight:500;color:#767676}.ui-toc-dropdown .nav>li:first-child:last-child > ul,.ui-toc-dropdown .toc.expand ul{display:block}.ui-toc-dropdown .nav>li>a:focus,.ui-toc-dropdown .nav>li>a:hover{padding-left:19px;color:#000;text-decoration:none;background-color:transparent;border-left:1px solid #000}.ui-toc-dropdown[dir=rtl] .nav>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav>li>a:hover{padding-right:19px;border-left:none;border-right:1px solid #000}.ui-toc-dropdown .nav>.active:focus>a,.ui-toc-dropdown .nav>.active:hover>a,.ui-toc-dropdown .nav>.active>a{padding-left:18px;font-weight:700;color:#000;background-color:transparent;border-left:2px solid #000}.ui-toc-dropdown[dir=rtl] .nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav>.active>a{padding-right:18px;border-left:none;border-right:2px solid #000}.ui-toc-dropdown .nav .nav{display:none;padding-bottom:10px}.ui-toc-dropdown .nav>.active>ul{display:block}.ui-toc-dropdown .nav .nav>li>a{padding-top:1px;padding-bottom:1px;padding-left:30px;font-size:12px;font-weight:400}.ui-toc-dropdown[dir=rtl] .nav .nav>li>a{padding-right:30px}.ui-toc-dropdown .nav .nav>li>ul>li>a{padding-top:1px;padding-bottom:1px;padding-left:40px;font-size:12px;font-weight:400}.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a{padding-right:40px}.ui-toc-dropdown .nav .nav>li>a:focus,.ui-toc-dropdown .nav .nav>li>a:hover{padding-left:29px}.ui-toc-dropdown[dir=rtl] .nav .nav>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav .nav>li>a:hover{padding-right:29px}.ui-toc-dropdown .nav .nav>li>ul>li>a:focus,.ui-toc-dropdown .nav .nav>li>ul>li>a:hover{padding-left:39px}.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a:hover{padding-right:39px}.ui-toc-dropdown .nav .nav>.active:focus>a,.ui-toc-dropdown .nav .nav>.active:hover>a,.ui-toc-dropdown .nav .nav>.active>a{padding-left:28px;font-weight:500}.ui-toc-dropdown[dir=rtl] .nav .nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>a{padding-right:28px}.ui-toc-dropdown .nav .nav>.active>.nav>.active:focus>a,.ui-toc-dropdown .nav .nav>.active>.nav>.active:hover>a,.ui-toc-dropdown .nav .nav>.active>.nav>.active>a{padding-left:38px;font-weight:500}.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active>a{padding-right:38px}.markdown-body[lang^=ja]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,Arial,Hiragino Kaku Gothic Pro,\\30D2\30E9\30AE\30CE\89D2\30B4 Pro W3,Osaka,Meiryo,\\30E1\30A4\30EA\30AA,MS Gothic,"\FF2D\FF33   \30B4\30B7\30C3\30AF",sans-serif}.ui-toc-dropdown[lang^=ja]{font-family:Source Sans Pro,Helvetica,Arial,Meiryo UI,MS PGothic,"\FF2D\FF33   \FF30\30B4\30B7\30C3\30AF",sans-serif}.markdown-body[lang=zh-tw]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,Arial,PingFang TC,Microsoft JhengHei,\\5FAE\8EDF\6B63\9ED1,sans-serif}.ui-toc-dropdown[lang=zh-tw]{font-family:Source Sans Pro,Helvetica,Arial,Microsoft JhengHei UI,\\5FAE\8EDF\6B63\9ED1UI,sans-serif}.markdown-body[lang=zh-cn]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,Arial,PingFang SC,Microsoft YaHei,\\5FAE\8F6F\96C5\9ED1,sans-serif}.ui-toc-dropdown[lang=zh-cn]{font-family:Source Sans Pro,Helvetica,Arial,Microsoft YaHei UI,\\5FAE\8F6F\96C5\9ED1UI,sans-serif}.ui-affix-toc{position:fixed;top:0;max-width:15vw;max-height:70vh;overflow:auto}.back-to-top,.expand-toggle,.go-to-bottom{display:block;padding:4px 10px;margin-top:10px;margin-left:10px;font-size:12px;font-weight:500;color:#999}.back-to-top:focus,.back-to-top:hover,.expand-toggle:focus,.expand-toggle:hover,.go-to-bottom:focus,.go-to-bottom:hover{color:#563d7c;text-decoration:none}.back-to-top,.go-to-bottom{margin-top:0}.ui-user-icon{width:20px;height:20px;display:block;border-radius:3px;margin-top:2px;margin-bottom:2px;margin-right:5px;background-position:50%;background-repeat:no-repeat;background-size:contain}.ui-user-icon.small{width:18px;height:18px;display:inline-block;vertical-align:middle;margin:0 0 .2em}.ui-infobar>small>span{line-height:22px}.ui-infobar>small .dropdown{display:inline-block}.ui-infobar>small .dropdown a:focus,.ui-infobar>small .dropdown a:hover{text-decoration:none}.unselectable{-moz-user-select:none;-webkit-user-select:none;-o-user-select:none;user-select:none}@media print{blockquote,div,img,pre,table{page-break-inside:avoid!important}a[href]:after{font-size:12px!important}}.markdown-body.slides{position:relative;z-index:1;color:#222}.markdown-body.slides:before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;z-index:-1;background-color:currentColor;box-shadow:0 0 0 50vw}.markdown-body.slides section[data-markdown]{position:relative;margin-bottom:1.5em;background-color:#fff;text-align:center}.markdown-body.slides section[data-markdown] code{text-align:left}.markdown-body.slides section[data-markdown]:before{content:"";display:block;padding-bottom:56.23%}.markdown-body.slides section[data-markdown]>div:first-child{position:absolute;top:50%;left:1em;right:1em;transform:translateY(-50%);max-height:100%;overflow:hidden}.markdown-body.slides section[data-markdown]>ul{display:inline-block}.markdown-body.slides>section>section+section:after{content:"";position:absolute;top:-1.5em;right:1em;height:1.5em;border:3px solid #777}body{font-smoothing:subpixel-antialiased!important;-webkit-font-smoothing:subpixel-antialiased!important;-moz-osx-font-smoothing:auto!important;text-shadow:0 0 1em transparent,1px 1px 1.2px rgba(0,0,0,.004);-webkit-overflow-scrolling:touch;font-family:Source Sans Pro,Helvetica,Arial,sans-serif;letter-spacing:.025em}.focus,:focus{outline:none!important}::-moz-focus-inner{border:0!important}body.modal-open{overflow-y:auto;padding-right:0!important}
    </style>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    	<script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" integrity="sha256-3Jy/GbSLrg0o9y5Z5n1uw0qxZECH7C6OQpVBgNFYa0g=" crossorigin="anonymous"></script>
    	<script src="https://cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js" integrity="sha256-g6iAfvZp+nDQ2TdTR/VVKJf3bGro4ub5fvWSWVRi2NE=" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.9/es5-shim.min.js" integrity="sha256-8E4Is26QH0bD52WoQpcB+R/tcWQtpzlCojrybUd7Mxo=" crossorigin="anonymous"></script>
    <![endif]-->
</head>

<body>
    <div id="doc" class="markdown-body container-fluid" style="position: relative;"><h1 id="A-Modular-Low-Complexity-ECG-Delineation-Algorithm-for-Real-Time-Embedded-Systems"><a class="anchor hidden-xs" href="#A-Modular-Low-Complexity-ECG-Delineation-Algorithm-for-Real-Time-Embedded-Systems" title="A-Modular-Low-Complexity-ECG-Delineation-Algorithm-for-Real-Time-Embedded-Systems"><span class="octicon octicon-link"></span></a>A Modular Low-Complexity ECG Delineation Algorithm for Real-Time Embedded Systems</h1><p>IEEE JOURNAL OF BIOMEDICAL AND HEALTH INFORMATICS, VOL. 22, NO. 2, MARCH 2018</p><h1 id="摘要"><a class="anchor hidden-xs" href="#摘要" title="摘要"><span class="octicon octicon-link"></span></a>摘要</h1><p><img src="https://www.researchgate.net/profile/Hiren_Kumar_Thakkar/publication/322752368/figure/fig7/AS:587730631290886@1517137310294/Example-of-ECG-feature-points-onset-points-and-offset-points.png" alt=""><br>
這個做法對於不同ECG波型的區分(QRS、P和T波、onsets和結束波型)展現了一個新的模塊化且低複雜度的演算法。包含減少每秒的運算數量和使用很少的內存空間，這個演算法的用法是在資源受限的嵌入式系統實現即時判斷。模組化設計允許演算法可以在執行時自動調整劃定品質的模式範圍和取樣率，從沒有心電異常時使用超低電量模式來用低頻率取樣，到以高頻率取樣的高精度取樣劃分模式，偵測所有ECG心率不準時的基準點。劃分演算法已經被用QT資料庫調整過了，提供非常高的靈敏度和正確預測能力，從MIT資料庫驗證。在異常判斷中，劃分的所有基準點都是從心電圖委員會高精確度模式通用標準中的公差取得，除了P波的部分，藉由一段時間的樣本，在驗證基於公差上的演算法。</p><h6 id="tags-Electrocardiogram-delineation-real-time"><a class="anchor hidden-xs" href="#tags-Electrocardiogram-delineation-real-time" title="tags-Electrocardiogram-delineation-real-time"><span class="octicon octicon-link"></span></a>tags: <code>Electrocardiogram</code> <code>delineation</code> <code>real-time</code></h6><h6 id="tags-energy-constrained-systems-wearable-medical-devices"><a class="anchor hidden-xs" href="#tags-energy-constrained-systems-wearable-medical-devices" title="tags-energy-constrained-systems-wearable-medical-devices"><span class="octicon octicon-link"></span></a>tags: <code>energy-constrained systems</code> <code>wearable medical devices</code></h6><h1 id="I介紹"><a class="anchor hidden-xs" href="#I介紹" title="I介紹"><span class="octicon octicon-link"></span></a>I.介紹</h1><p>ECG信號代表心臟的電子活動狀態，這是觀察心臟狀態和評估其條件非常重要的工具。大多的心電信號自動分析技術依靠特徵點，因此，準確地偵測不同的心電圖波型峰值和邊界是對完成可靠的心臟自動診斷議題是重要的。在很多狀況中(例如動態監控、可提取不同心電圖波形的即時自動化系統)是有用的。</p><p>第一個應用的技術是為了劃分ECG信號的QRS複合波基於ECG的振幅和它的一階微分。雖然這些實例是相當重要有效，並具有高靈敏度和特異性的，但他們僅限於用來偵測QRS複合波，然而，為了進行準確的ECG分析，P波和T波的邊界和峰值也是需要的。如今，基準點都已經開發有大量更先進的方法來求得。這些方法包含使用小波(使用最廣泛的技術，即使是用於檢測心電圖波形形態的心肌疤痕)、希爾伯特變換(Hilbert transform)、法則轉換(fasor transform)、動態時間扭曲(dynamic time warping)、人工神經網路(artificial neural networks)、隱馬爾可夫模型(hidden Markov models)、時域形態(time-domain morphology)、梯度演算法或型態轉換(gradient based algorithms or morphological transforms)。</p><p>這些新方法的複雜性涵蓋很高的計算成本。若是劃分在離線或沒有任何時間限制的情況下執行，他們可以非常近似於醫學註釋。然而，越來越多地使用微型嵌入式可穿戴設備進行即時健康監測和診斷，這促使人們需要更高效的演算法，以適應這些設備的低處理能力和能量消耗，同時實現醫療標準所要求的高精度。部分的裝置已經上市，例如Corventis NUVANT Mobile、Cardiac Telemetry System、Vital Connect HealthPatch MD或Preventice BodyGuardian Remote Monitoring System。然而他們他們僅限於ECG的串連或非常簡單的處理，來提取心跳等關鍵參數。</p><p>目前穿戴式設備市場穩定成長，開發能夠全天候(24/7)監測心率（HR）的新設備，使用GPS運行或監測睡眠模式和品質。健身追踪器或智能手錶可用於記錄和/或分析實時信號，而無需安裝在設備上的傳感器或胸帶。在心率的範例中，這些設備如同腕帶式設備模型或是Garmin v´ıvo系列，可以持續5至8天連續以光學方式測量心率。另一方面，如Polar M400用可穿戴設備胸帶和智慧手錶測量心率。</p><p>每年市場都有很多新產品上市，像是Cronovo ECG monitor watch，能監測血壓水準、心跳異變率、疲勞程度、自動SOS警報或睡意警報，或像是QardioCore有三導程無線ECG監控、臨床驗證、使用取樣率200Hz、16bit解析度，可連續使用兩天。對於本論文建議的即時心電圖劃分演算法將會幫助下一代可穿戴監控系統的發展，可以憑藉劃分結果在電路板上進行心電圖心律失常檢測。</p><p>為了實現這些可穿戴式嵌入式系統適合的演算法，提出了一種基於小波的即時劃分線，並強調嵌入式信號濾波的重要性，以補償在動態監測期間出現的不同信號來源或雜訊和人為干擾。在本論文中我們更進一步提出了與心跳分類演算法類似的結構，其中提供了一種簡單且高效的分類演算法，可隨時執行，以確定心電圖的哪些部分是具有關鍵性的，並且僅在這些情況下使用詳細的（並且提供更高的運算量）診斷演算法;以及在其實時硬體實現中使用濾波器和閾值來檢測ECG基準點以預測室性心律失常。因此，本文提出了一種新的劃分演算法，該演算法不僅比先進技術有更低的運算複雜度且更省效能，而且更加靈活和可模塊化，能夠持續實現能量消耗與劃分精度之間的最佳平衡，能在有限的能量和效能需求中，進行精確的心律失常檢測。</p><p>本文提出的簡單而精確的劃分演算法是對ECG信號的二階導數做截止頻率為14Hz的低通FIR濾波，也考慮雜訊濾除和消除基線飄移，雜訊濾除部分採用頻率為40Hz的低通FIR濾波器，消除基線漂移的部分則應用不同的形態濾波器。與以前的方法相比，所提出的算法的優點如下：</p><ol>
<li>在本論文中介紹的劃定算法中，取樣速率會在執行時進行調整，以降低CPU處理和ADC的運算耗能。小波技術需要重新設計濾波組合或重新取樣輸入信號(包含負樣本)，而本論文所提出的演算法只需要調整FIR濾波器的係數維持其截止頻率即可（參數可以被離線運算和被儲存在某些集合頻率中的快取記憶體中）。</li>
<li>本論文的技術能夠以幾乎沒有延遲的方式檢測心跳，所以能允許ADC關閉，直到預測下次的心跳發生的時候開啟，達到系統節能。相反，小波變換使用滑動窗口來檢測心跳，因此需要其中的所有取樣點。</li>
<li>如果不需要完整劃分，例如心率是正常的，受試者沒有病症，模塊化的算法法允許一些部分被禁用，因此大大減少了運算負擔。如果給定的心臟狀況（例如檢測到心動過速或心動過緩），系統也會自動啟用所有模塊。在小波方法中，大部分CPU容量用於計算比例，例如R峰值偵測就用了大部分的容量，未檢測其他基準點不會顯著減輕CPU負擔。</li>
</ol><p>本論文的其餘部分如下。第二部分介紹劃分演算法建議的模組化設計，包含一個演算法其根據心率變化自動改變取樣品質的研究案例。第三部分描述了MSPSim演算法的實現，並提供了它的性能評估，以及與其他最先進技術的比較研究。第四部分為這項論文的結論。</p><h1 id="II心電圖劃分演算法"><a class="anchor hidden-xs" href="#II心電圖劃分演算法" title="II心電圖劃分演算法"><span class="octicon octicon-link"></span></a>II.心電圖劃分演算法</h1><p>EGG信號呈現不同的波形，每個波形都與心動週期的生理階段有關。如Fig.1 所示，心跳可以分為三個主要部分：P波、QRS複合波和T波。 P波表示開始並且代表心房去極化。 QRS複合波的是一組三個連續的波並相應<br>
到心室去極化。最後，T波表示心室復極。<br>
<img src="https://i.imgur.com/3tcROTC.png" alt=""><br>
在這裡採用一種新的模塊化演算法來檢測不同的心電波（P，QRS和T）及描述其基準點（峰值，起始和結束）被。檢測ECG波形的偵測演算法總結如下（Fig.2）：<br>
<img src="https://i.imgur.com/zEeb6RS.png" alt=""></p><ol>
<li>劃分演算法從QRS峰開始。</li>
<li>檢測到一個QRS峰值後，其邊界（開始和結束）就能在複合波之前和之後被找到。</li>
<li>P和T也可以在QRS前後被找到，然後同樣找P和T的起始和終止時間。</li>
</ol><p>當取得原始ECG信號時，高頻雜訊、人為造成的肌肉運動和基線漂移都可能存在。這些干擾需要在使用劃分演算法之前去除，以確保檢測基準點的準確性。Fig.3 為ECG信號進行劃定演算法時的流程圖。 Peaks模塊（左）是用於檢測QRS波峰以及可選的P和T峰。 On-end模塊（右側）可用於描繪如果需要，ECG波的起始和結束。 On-end模塊細分為三個完全獨立的模塊模塊：QRS端到端模塊，P端模塊和可根據需要啟用或禁用T端模塊。<br>
<img src="https://i.imgur.com/zd0J7hU.png" alt=""></p><h2 id="A-Peaks-Module"><a class="anchor hidden-xs" href="#A-Peaks-Module" title="A-Peaks-Module"><span class="octicon octicon-link"></span></a>A. Peaks Module</h2><p>主要為檢測QRS波的波峰，甚至可以檢測P和T波的波峰。<br>
將截止頻率為14Hz的低通FIR濾波器應用於<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>r</mi><mi>a</mi><mi>w</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1" style="width: 4.151em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.559em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1003.56em, 2.697em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-2"><span class="mi" id="MathJax-Span-3" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-4" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-5"><span style="display: inline-block; position: relative; width: 2.05em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-6" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-7"><span class="mrow" id="MathJax-Span-8"><span class="mi" id="MathJax-Span-9" style="font-size: 70.7%; font-family: MathJax_Math-italic;">r</span><span class="mi" id="MathJax-Span-10" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-11" style="font-size: 70.7%; font-family: MathJax_Math-italic;">w</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>r</mi><mi>a</mi><mi>w</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-1">ECG_{raw}</script></span>信號。使用這種強大的濾波器，可以消除任何類型的高頻信號，同時保留P、QRS和T波峰位置，如Fig.4中的<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-2-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>L</mi><mi>P</mi><mn>14</mn></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-12" style="width: 4.744em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.098em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1004.1em, 2.697em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-13"><span class="mi" id="MathJax-Span-14" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-15" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-16"><span style="display: inline-block; position: relative; width: 2.589em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-17" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-18"><span class="mrow" id="MathJax-Span-19"><span class="mi" id="MathJax-Span-20" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mi" id="MathJax-Span-21" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mn" id="MathJax-Span-22" style="font-size: 70.7%; font-family: MathJax_Main;">14</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>L</mi><mi>P</mi><mn>14</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-2">ECG_{LP14}</script></span>信號。因此，<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-3-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>L</mi><mi>P</mi><mn>14</mn></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-23" style="width: 4.744em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.098em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1004.1em, 2.697em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-24"><span class="mi" id="MathJax-Span-25" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-26" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-27"><span style="display: inline-block; position: relative; width: 2.589em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-28" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-29"><span class="mrow" id="MathJax-Span-30"><span class="mi" id="MathJax-Span-31" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mi" id="MathJax-Span-32" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mn" id="MathJax-Span-33" style="font-size: 70.7%; font-family: MathJax_Main;">14</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>L</mi><mi>P</mi><mn>14</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-3">ECG_{LP14}</script></span>用於查找P，T波和QRS波群，由於他有使用閥值的概念，因此無法檢測到更小的低能波，如Q、S.<br>
<img src="https://i.imgur.com/bFfQpAx.png" alt=""><br>
雖然IIR濾波器比起FIR濾波器可以使用更少的接頭、記憶體和運算子來實現信號濾波，但它更容易受到數值穩定性問題的影響。因此，選擇FIR濾波器是因為它們更容易實時實現（較低的複雜度），並且它們的穩定性也被證實了，雖然他需要更多的樣本來做信號處理而且會有比較高的信號延遲發生(N-order FIR 濾波器產生N/2 samples的延遲時間)。<br>
QRS的劃分採用<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-4-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>L</mi><mi>P</mi><mn>14</mn></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-34" style="width: 4.744em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.098em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1004.1em, 2.697em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-35"><span class="mi" id="MathJax-Span-36" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-37" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-38"><span style="display: inline-block; position: relative; width: 2.589em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-39" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-40"><span class="mrow" id="MathJax-Span-41"><span class="mi" id="MathJax-Span-42" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mi" id="MathJax-Span-43" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mn" id="MathJax-Span-44" style="font-size: 70.7%; font-family: MathJax_Main;">14</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>L</mi><mi>P</mi><mn>14</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-4">ECG_{LP14}</script></span>信號的最高峰。由於QRS波群的形狀取決於所選導聯的方向，因此最顯著的峰是某些導聯（如V6）的R波或其他導聯（如V1）的S波，其中隨後出現一個小的R峰由大負偏轉（S波）。在本文中，我們將前QRS複合波定義為正值，後者定義為負值。<br>
為了偵測QRS波群的峰值，運算一階和二階微分。如Fig. 5(a)，對於正QRS波峰，二階導數總是負值，其值在峰值附近大於（在絕對值上）比其餘心跳中的值，並且一階導數穿過零線。在負QRS波峰的情況下，二階導數總是正的。正常心電圖描繪在Fig. 6中，包含正負QRS波群。<br>
<img src="https://i.imgur.com/DvDNTit.png" alt=""><br>
<img src="https://i.imgur.com/RIoNvmQ.png" alt=""><br>
QRS偵測峰值的第一步是選擇一段濾波後的ECG信號（來自<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-5-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>L</mi><mi>P</mi><mn>14</mn></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-45" style="width: 4.744em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.098em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1004.1em, 2.697em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-46"><span class="mi" id="MathJax-Span-47" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-48" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-49"><span style="display: inline-block; position: relative; width: 2.589em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-50" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-51"><span class="mrow" id="MathJax-Span-52"><span class="mi" id="MathJax-Span-53" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mi" id="MathJax-Span-54" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mn" id="MathJax-Span-55" style="font-size: 70.7%; font-family: MathJax_Main;">14</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>L</mi><mi>P</mi><mn>14</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-5">ECG_{LP14}</script></span>），其大小至少包含一次心跳;將這段信號存儲在一個2秒的循環緩衝區（也稱為window）中，並以新的ECG取樣做更新。緩衝長度為2秒的長度可允許心率低至每分鐘30次。每當2秒window（或循環緩衝區）完成時，找到二階導數的最大值<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-6-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy=&quot;false&quot;>(</mo><mi>E</mi><mi>C</mi><msubsup><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>L</mi><mi>P</mi><mn>14</mn></mrow><mo>&amp;#x2033;</mo></msubsup><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-56" style="width: 8.893em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.654em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.457em, 1007.55em, 2.858em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-57"><span class="mo" id="MathJax-Span-58" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-59" style="font-family: MathJax_Math-italic;">m</span><span class="mi" id="MathJax-Span-60" style="font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-61" style="font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-62" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-63" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-64" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-65"><span style="display: inline-block; position: relative; width: 2.589em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-66" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; clip: rect(3.451em, 1000.49em, 4.098em, -999.997em); top: -4.308em; left: 0.811em;"><span class="mo" id="MathJax-Span-67" style="font-size: 70.7%; font-family: MathJax_Main;">′′</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; clip: rect(3.343em, 1001.78em, 4.151em, -999.997em); top: -3.661em; left: 0.811em;"><span class="texatom" id="MathJax-Span-68"><span class="mrow" id="MathJax-Span-69"><span class="mi" id="MathJax-Span-70" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mi" id="MathJax-Span-71" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mn" id="MathJax-Span-72" style="font-size: 70.7%; font-family: MathJax_Main;">14</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span><span class="mo" id="MathJax-Span-73" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-74" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.378em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mi>E</mi><mi>C</mi><msubsup><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>L</mi><mi>P</mi><mn>14</mn></mrow><mo>″</mo></msubsup><mo stretchy="false">)</mo><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-6">(max(ECG''_{LP14}))</script></span>和最小值<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-7-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy=&quot;false&quot;>(</mo><mi>E</mi><mi>C</mi><msubsup><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>L</mi><mi>P</mi><mn>14</mn></mrow><mo>&amp;#x2033;</mo></msubsup><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-75" style="width: 8.623em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.438em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.457em, 1007.33em, 2.858em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-76"><span class="mo" id="MathJax-Span-77" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-78" style="font-family: MathJax_Math-italic;">m</span><span class="mi" id="MathJax-Span-79" style="font-family: MathJax_Math-italic;">i</span><span class="mi" id="MathJax-Span-80" style="font-family: MathJax_Math-italic;">n</span><span class="mo" id="MathJax-Span-81" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-82" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-83" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-84"><span style="display: inline-block; position: relative; width: 2.589em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-85" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; clip: rect(3.451em, 1000.49em, 4.098em, -999.997em); top: -4.308em; left: 0.811em;"><span class="mo" id="MathJax-Span-86" style="font-size: 70.7%; font-family: MathJax_Main;">′′</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; clip: rect(3.343em, 1001.78em, 4.151em, -999.997em); top: -3.661em; left: 0.811em;"><span class="texatom" id="MathJax-Span-87"><span class="mrow" id="MathJax-Span-88"><span class="mi" id="MathJax-Span-89" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mi" id="MathJax-Span-90" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mn" id="MathJax-Span-91" style="font-size: 70.7%; font-family: MathJax_Main;">14</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span><span class="mo" id="MathJax-Span-92" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-93" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.378em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>E</mi><mi>C</mi><msubsup><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>L</mi><mi>P</mi><mn>14</mn></mrow><mo>″</mo></msubsup><mo stretchy="false">)</mo><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-7">(min(ECG''_{LP14}))</script></span>來計算將在稍後使用的值。最後，最後5個值的移動平均值（AvgQRS）將在稍後用於計算閾值以檢測QRS波峰;每當新窗口完成時，此閾值就會更新。</p><p>當滿足以下條件時（在每一個新ECG樣本獲得時評估），在環形緩衝區內偵測到QRS峰值：</p><ol>
<li><span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-8-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>L</mi><mi>P</mi><mn>14</mn></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-94" style="width: 4.744em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.098em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1004.1em, 2.697em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-95"><span class="mi" id="MathJax-Span-96" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-97" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-98"><span style="display: inline-block; position: relative; width: 2.589em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-99" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-100"><span class="mrow" id="MathJax-Span-101"><span class="mi" id="MathJax-Span-102" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mi" id="MathJax-Span-103" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mn" id="MathJax-Span-104" style="font-size: 70.7%; font-family: MathJax_Main;">14</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>L</mi><mi>P</mi><mn>14</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-8">ECG_{LP14}</script></span>的一階導數的符號必須改變（標記為<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-9-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>L</mi><mi>P</mi><msub><mn>14</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>,</mo><mi>s</mi><mi>c</mi></mrow></msub></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-105" style="width: 5.498em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.744em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1004.74em, 2.912em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-106"><span class="mi" id="MathJax-Span-107" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-108" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-109"><span style="display: inline-block; position: relative; width: 3.235em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-110" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-111"><span class="mrow" id="MathJax-Span-112"><span class="mi" id="MathJax-Span-113" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mi" id="MathJax-Span-114" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-115"><span style="display: inline-block; position: relative; width: 1.35em; height: 0px;"><span style="position: absolute; clip: rect(3.343em, 1000.7em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mn" id="MathJax-Span-116" style="font-size: 70.7%; font-family: MathJax_Main;">14</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.877em; left: 0.703em;"><span class="texatom" id="MathJax-Span-117"><span class="mrow" id="MathJax-Span-118"><span class="mo" id="MathJax-Span-119" style="font-size: 50%; font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-120" style="font-size: 50%; font-family: MathJax_Math-italic;">s</span><span class="mi" id="MathJax-Span-121" style="font-size: 50%; font-family: MathJax_Math-italic;">c</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.497em; border-left: 0px solid; width: 0px; height: 1.378em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>L</mi><mi>P</mi><msub><mn>14</mn><mrow class="MJX-TeXAtom-ORD"><mo>,</mo><mi>s</mi><mi>c</mi></mrow></msub></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-9">ECG_{LP14_{,sc}}</script></span>如Fig.3）。這表示濾波的ECG信號中存在局部最大值或最小值。</li>
<li><span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-10-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>L</mi><mi>P</mi><mn>14</mn></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-122" style="width: 4.744em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.098em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1004.1em, 2.697em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-123"><span class="mi" id="MathJax-Span-124" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-125" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-126"><span style="display: inline-block; position: relative; width: 2.589em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-127" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-128"><span class="mrow" id="MathJax-Span-129"><span class="mi" id="MathJax-Span-130" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mi" id="MathJax-Span-131" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mn" id="MathJax-Span-132" style="font-size: 70.7%; font-family: MathJax_Main;">14</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>L</mi><mi>P</mi><mn>14</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-10">ECG_{LP14}</script></span>的二階導數的幅度（絕對值）必須大於閾值 <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-11-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>Q</mi><mi>R</mi><msub><mi>S</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>t</mi><mi>h</mi></mrow></msub><mo>=</mo><mi>Q</mi><mi>R</mi><msub><mi>S</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>f</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow></msub><mo>&amp;#xB7;</mo><mi>A</mi><mi>v</mi><msub><mi>g</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>Q</mi><mi>R</mi><mi>S</mi></mrow></msub><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-133" style="width: 15.412em; display: inline-block;"><span style="display: inline-block; position: relative; width: 13.257em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.457em, 1013.15em, 2.858em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-134"><span class="mo" id="MathJax-Span-135" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-136" style="font-family: MathJax_Math-italic;">Q</span><span class="mi" id="MathJax-Span-137" style="font-family: MathJax_Math-italic;">R</span><span class="msubsup" id="MathJax-Span-138"><span style="display: inline-block; position: relative; width: 1.35em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.65em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-139" style="font-family: MathJax_Math-italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.595em;"><span class="texatom" id="MathJax-Span-140"><span class="mrow" id="MathJax-Span-141"><span class="mi" id="MathJax-Span-142" style="font-size: 70.7%; font-family: MathJax_Math-italic;">t</span><span class="mi" id="MathJax-Span-143" style="font-size: 70.7%; font-family: MathJax_Math-italic;">h</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span><span class="mo" id="MathJax-Span-144" style="font-family: MathJax_Main; padding-left: 0.272em;">=</span><span class="mi" id="MathJax-Span-145" style="font-family: MathJax_Math-italic; padding-left: 0.272em;">Q</span><span class="mi" id="MathJax-Span-146" style="font-family: MathJax_Math-italic;">R</span><span class="msubsup" id="MathJax-Span-147"><span style="display: inline-block; position: relative; width: 2.697em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.65em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-148" style="font-family: MathJax_Math-italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.595em;"><span class="texatom" id="MathJax-Span-149"><span class="mrow" id="MathJax-Span-150"><span class="mi" id="MathJax-Span-151" style="font-size: 70.7%; font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mi" id="MathJax-Span-152" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-153" style="font-size: 70.7%; font-family: MathJax_Math-italic;">c</span><span class="mi" id="MathJax-Span-154" style="font-size: 70.7%; font-family: MathJax_Math-italic;">t</span><span class="mi" id="MathJax-Span-155" style="font-size: 70.7%; font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-156" style="font-size: 70.7%; font-family: MathJax_Math-italic;">r</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span><span class="mo" id="MathJax-Span-157" style="font-family: MathJax_Main; padding-left: 0.218em;">⋅</span><span class="mi" id="MathJax-Span-158" style="font-family: MathJax_Math-italic; padding-left: 0.218em;">A</span><span class="mi" id="MathJax-Span-159" style="font-family: MathJax_Math-italic;">v</span><span class="msubsup" id="MathJax-Span-160"><span style="display: inline-block; position: relative; width: 2.104em; height: 0px;"><span style="position: absolute; clip: rect(3.397em, 1000.49em, 4.367em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-161" style="font-family: MathJax_Math-italic;">g<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.488em;"><span class="texatom" id="MathJax-Span-162"><span class="mrow" id="MathJax-Span-163"><span class="mi" id="MathJax-Span-164" style="font-size: 70.7%; font-family: MathJax_Math-italic;">Q</span><span class="mi" id="MathJax-Span-165" style="font-size: 70.7%; font-family: MathJax_Math-italic;">R</span><span class="mi" id="MathJax-Span-166" style="font-size: 70.7%; font-family: MathJax_Math-italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span><span class="mo" id="MathJax-Span-167" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.316em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>Q</mi><mi>R</mi><msub><mi>S</mi><mrow class="MJX-TeXAtom-ORD"><mi>t</mi><mi>h</mi></mrow></msub><mo>=</mo><mi>Q</mi><mi>R</mi><msub><mi>S</mi><mrow class="MJX-TeXAtom-ORD"><mi>f</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow></msub><mo>·</mo><mi>A</mi><mi>v</mi><msub><mi>g</mi><mrow class="MJX-TeXAtom-ORD"><mi>Q</mi><mi>R</mi><mi>S</mi></mrow></msub><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-11">(QRS_{th} = QRS_{factor}·Avg_{QRS})</script></span>，其中<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-12-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>Q</mi><mi>R</mi><msub><mi>S</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>f</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow></msub><mo>=</mo><mn>0.33</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-168" style="width: 8.516em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.33em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1007.28em, 2.858em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-169"><span class="mi" id="MathJax-Span-170" style="font-family: MathJax_Math-italic;">Q</span><span class="mi" id="MathJax-Span-171" style="font-family: MathJax_Math-italic;">R</span><span class="msubsup" id="MathJax-Span-172"><span style="display: inline-block; position: relative; width: 2.697em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.65em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-173" style="font-family: MathJax_Math-italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.595em;"><span class="texatom" id="MathJax-Span-174"><span class="mrow" id="MathJax-Span-175"><span class="mi" id="MathJax-Span-176" style="font-size: 70.7%; font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mi" id="MathJax-Span-177" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-178" style="font-size: 70.7%; font-family: MathJax_Math-italic;">c</span><span class="mi" id="MathJax-Span-179" style="font-size: 70.7%; font-family: MathJax_Math-italic;">t</span><span class="mi" id="MathJax-Span-180" style="font-size: 70.7%; font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-181" style="font-size: 70.7%; font-family: MathJax_Math-italic;">r</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span><span class="mo" id="MathJax-Span-182" style="font-family: MathJax_Main; padding-left: 0.272em;">=</span><span class="mn" id="MathJax-Span-183" style="font-family: MathJax_Main; padding-left: 0.272em;">0.33</span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.316em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>Q</mi><mi>R</mi><msub><mi>S</mi><mrow class="MJX-TeXAtom-ORD"><mi>f</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow></msub><mo>=</mo><mn>0.33</mn></math></span></span><script type="math/tex" id="MathJax-Element-12">QRS_{factor} = 0.33</script></span>稍後會有證明，而<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-13-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>A</mi><mi>v</mi><msub><mi>g</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>Q</mi><mi>R</mi><mi>S</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-184" style="width: 3.882em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.343em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1003.34em, 2.804em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-185"><span class="mi" id="MathJax-Span-186" style="font-family: MathJax_Math-italic;">A</span><span class="mi" id="MathJax-Span-187" style="font-family: MathJax_Math-italic;">v</span><span class="msubsup" id="MathJax-Span-188"><span style="display: inline-block; position: relative; width: 2.104em; height: 0px;"><span style="position: absolute; clip: rect(3.397em, 1000.49em, 4.367em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-189" style="font-family: MathJax_Math-italic;">g<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.488em;"><span class="texatom" id="MathJax-Span-190"><span class="mrow" id="MathJax-Span-191"><span class="mi" id="MathJax-Span-192" style="font-size: 70.7%; font-family: MathJax_Math-italic;">Q</span><span class="mi" id="MathJax-Span-193" style="font-size: 70.7%; font-family: MathJax_Math-italic;">R</span><span class="mi" id="MathJax-Span-194" style="font-size: 70.7%; font-family: MathJax_Math-italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.372em; border-left: 0px solid; width: 0px; height: 1.316em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>A</mi><mi>v</mi><msub><mi>g</mi><mrow class="MJX-TeXAtom-ORD"><mi>Q</mi><mi>R</mi><mi>S</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-13">Avg_{QRS}</script></span>之前被定義為最後五個最小或最大window值的移動平均值，因此，<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-14-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>R</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>t</mi><mi>h</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-195" style="width: 1.781em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.511em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1001.51em, 2.697em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-196"><span class="msubsup" id="MathJax-Span-197"><span style="display: inline-block; position: relative; width: 1.511em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-198" style="font-family: MathJax_Math-italic;">R</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.757em;"><span class="texatom" id="MathJax-Span-199"><span class="mrow" id="MathJax-Span-200"><span class="mi" id="MathJax-Span-201" style="font-size: 70.7%; font-family: MathJax_Math-italic;">t</span><span class="mi" id="MathJax-Span-202" style="font-size: 70.7%; font-family: MathJax_Math-italic;">h</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>R</mi><mrow class="MJX-TeXAtom-ORD"><mi>t</mi><mi>h</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-14">R_{th}</script></span>每2秒更新一次（每次在新的2秒window行程後更新<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-15-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>A</mi><mi>v</mi><msub><mi>g</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>Q</mi><mi>R</mi><mi>S</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-203" style="width: 3.882em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.343em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1003.34em, 2.804em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-204"><span class="mi" id="MathJax-Span-205" style="font-family: MathJax_Math-italic;">A</span><span class="mi" id="MathJax-Span-206" style="font-family: MathJax_Math-italic;">v</span><span class="msubsup" id="MathJax-Span-207"><span style="display: inline-block; position: relative; width: 2.104em; height: 0px;"><span style="position: absolute; clip: rect(3.397em, 1000.49em, 4.367em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-208" style="font-family: MathJax_Math-italic;">g<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.488em;"><span class="texatom" id="MathJax-Span-209"><span class="mrow" id="MathJax-Span-210"><span class="mi" id="MathJax-Span-211" style="font-size: 70.7%; font-family: MathJax_Math-italic;">Q</span><span class="mi" id="MathJax-Span-212" style="font-size: 70.7%; font-family: MathJax_Math-italic;">R</span><span class="mi" id="MathJax-Span-213" style="font-size: 70.7%; font-family: MathJax_Math-italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.372em; border-left: 0px solid; width: 0px; height: 1.316em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>A</mi><mi>v</mi><msub><mi>g</mi><mrow class="MJX-TeXAtom-ORD"><mi>Q</mi><mi>R</mi><mi>S</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-15">Avg_{QRS}</script></span>）以動態地使算法適應新的一段ECG。應該注意的是<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-16-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>Q</mi><mi>R</mi><msub><mi>S</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>f</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-214" style="width: 4.96em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.259em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1004.26em, 2.858em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-215"><span class="mi" id="MathJax-Span-216" style="font-family: MathJax_Math-italic;">Q</span><span class="mi" id="MathJax-Span-217" style="font-family: MathJax_Math-italic;">R</span><span class="msubsup" id="MathJax-Span-218"><span style="display: inline-block; position: relative; width: 2.697em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.65em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-219" style="font-family: MathJax_Math-italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.595em;"><span class="texatom" id="MathJax-Span-220"><span class="mrow" id="MathJax-Span-221"><span class="mi" id="MathJax-Span-222" style="font-size: 70.7%; font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mi" id="MathJax-Span-223" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-224" style="font-size: 70.7%; font-family: MathJax_Math-italic;">c</span><span class="mi" id="MathJax-Span-225" style="font-size: 70.7%; font-family: MathJax_Math-italic;">t</span><span class="mi" id="MathJax-Span-226" style="font-size: 70.7%; font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-227" style="font-size: 70.7%; font-family: MathJax_Math-italic;">r</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.316em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>Q</mi><mi>R</mi><msub><mi>S</mi><mrow class="MJX-TeXAtom-ORD"><mi>f</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-16">QRS_{factor}</script></span>應該在0和1之間。</li>
<li>連續QRS波峰兩個之間的時差必須大於250ms。這個時間間隔允許檢測高達每分鐘240次的心率。</li>
</ol><p>針對每個新ECG樣本的輸入來評估檢測QRS峰值的條件。應該注意的是，FIR濾波器，形態濾波器和導數運算與串流資料在取樣和運算後都有已知的延遲。一旦偵測到QRS峰，根據需要劃定P和T峰，在2個連續的QRS峰之間搜索它們（前一次的T波，與這次的P波）。</p><p>P波是波型中的第一波。在正常患者在120ms附近，例如有心房纖顫史的患者，長達170ms。另外，PR間隔（Fig.1）在120 ms和200 ms之間。由於這個原因，劃分演算法在QRS波峰之前的100ms和200ms之間的時間窗口中尋找可能的P峰值，永遠不會超過當前QRS峰值和前一波形之間一半的時間，以避免混淆波以前的心跳為當前的P波。</p><p>一個P波峰值的候選點，必為<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-17-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>L</mi><mi>P</mi><mn>14</mn></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-228" style="width: 4.744em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.098em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1004.1em, 2.697em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-229"><span class="mi" id="MathJax-Span-230" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-231" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-232"><span style="display: inline-block; position: relative; width: 2.589em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-233" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-234"><span class="mrow" id="MathJax-Span-235"><span class="mi" id="MathJax-Span-236" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mi" id="MathJax-Span-237" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mn" id="MathJax-Span-238" style="font-size: 70.7%; font-family: MathJax_Main;">14</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>L</mi><mi>P</mi><mn>14</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-17">ECG_{LP14}</script></span>的二階導數中的搜索window中的最小值或最大值（如Fig.5（b）），並超過某個閾值<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-18-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>t</mi><mi>h</mi></mrow></msub><mo>=</mo><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>f</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow></msub><mo>&amp;#xB7;</mo><mi>A</mi><mi>v</mi><msub><mi>g</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>Q</mi><mi>R</mi><mi>S</mi></mrow></msub><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-239" style="width: 11.91em; display: inline-block;"><span style="display: inline-block; position: relative; width: 10.24em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.457em, 1010.13em, 2.858em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-240"><span class="mo" id="MathJax-Span-241" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-242"><span style="display: inline-block; position: relative; width: 1.404em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-243" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.11em;"></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.649em;"><span class="texatom" id="MathJax-Span-244"><span class="mrow" id="MathJax-Span-245"><span class="mi" id="MathJax-Span-246" style="font-size: 70.7%; font-family: MathJax_Math-italic;">t</span><span class="mi" id="MathJax-Span-247" style="font-size: 70.7%; font-family: MathJax_Math-italic;">h</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span><span class="mo" id="MathJax-Span-248" style="font-family: MathJax_Main; padding-left: 0.272em;">=</span><span class="msubsup" id="MathJax-Span-249" style="padding-left: 0.272em;"><span style="display: inline-block; position: relative; width: 2.697em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-250" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.11em;"></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.649em;"><span class="texatom" id="MathJax-Span-251"><span class="mrow" id="MathJax-Span-252"><span class="mi" id="MathJax-Span-253" style="font-size: 70.7%; font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mi" id="MathJax-Span-254" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-255" style="font-size: 70.7%; font-family: MathJax_Math-italic;">c</span><span class="mi" id="MathJax-Span-256" style="font-size: 70.7%; font-family: MathJax_Math-italic;">t</span><span class="mi" id="MathJax-Span-257" style="font-size: 70.7%; font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-258" style="font-size: 70.7%; font-family: MathJax_Math-italic;">r</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span><span class="mo" id="MathJax-Span-259" style="font-family: MathJax_Main; padding-left: 0.218em;">⋅</span><span class="mi" id="MathJax-Span-260" style="font-family: MathJax_Math-italic; padding-left: 0.218em;">A</span><span class="mi" id="MathJax-Span-261" style="font-family: MathJax_Math-italic;">v</span><span class="msubsup" id="MathJax-Span-262"><span style="display: inline-block; position: relative; width: 2.104em; height: 0px;"><span style="position: absolute; clip: rect(3.397em, 1000.49em, 4.367em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-263" style="font-family: MathJax_Math-italic;">g<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.488em;"><span class="texatom" id="MathJax-Span-264"><span class="mrow" id="MathJax-Span-265"><span class="mi" id="MathJax-Span-266" style="font-size: 70.7%; font-family: MathJax_Math-italic;">Q</span><span class="mi" id="MathJax-Span-267" style="font-size: 70.7%; font-family: MathJax_Math-italic;">R</span><span class="mi" id="MathJax-Span-268" style="font-size: 70.7%; font-family: MathJax_Math-italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span><span class="mo" id="MathJax-Span-269" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.316em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>t</mi><mi>h</mi></mrow></msub><mo>=</mo><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>f</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow></msub><mo>·</mo><mi>A</mi><mi>v</mi><msub><mi>g</mi><mrow class="MJX-TeXAtom-ORD"><mi>Q</mi><mi>R</mi><mi>S</mi></mrow></msub><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-18">(P_{th} = P_{factor}·Avg_{QRS})</script></span>，與QRS峰值偵測的程序類似。對於正常或正P波，使用二階導數絕對值的最小值會比最大值來的好，而對於異常或負P波，絕對值的最大值比最小值佳。在這種情況下，使用閾值避免錯誤偵測，根據經驗選擇為已<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-19-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>L</mi><mi>P</mi><mn>14</mn></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-270" style="width: 4.744em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.098em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1004.1em, 2.697em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-271"><span class="mi" id="MathJax-Span-272" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-273" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-274"><span style="display: inline-block; position: relative; width: 2.589em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-275" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-276"><span class="mrow" id="MathJax-Span-277"><span class="mi" id="MathJax-Span-278" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mi" id="MathJax-Span-279" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mn" id="MathJax-Span-280" style="font-size: 70.7%; font-family: MathJax_Main;">14</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>L</mi><mi>P</mi><mn>14</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-19">ECG_{LP14}</script></span>的二階導數的1％做為QRS峰值位置<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-20-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>f</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow></msub><mo>=</mo><mn>0.01</mn><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-281" style="width: 7.654em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.576em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.457em, 1006.47em, 2.858em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-282"><span class="mo" id="MathJax-Span-283" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-284"><span style="display: inline-block; position: relative; width: 2.697em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-285" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.11em;"></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.649em;"><span class="texatom" id="MathJax-Span-286"><span class="mrow" id="MathJax-Span-287"><span class="mi" id="MathJax-Span-288" style="font-size: 70.7%; font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mi" id="MathJax-Span-289" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-290" style="font-size: 70.7%; font-family: MathJax_Math-italic;">c</span><span class="mi" id="MathJax-Span-291" style="font-size: 70.7%; font-family: MathJax_Math-italic;">t</span><span class="mi" id="MathJax-Span-292" style="font-size: 70.7%; font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-293" style="font-size: 70.7%; font-family: MathJax_Math-italic;">r</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span><span class="mo" id="MathJax-Span-294" style="font-family: MathJax_Main; padding-left: 0.272em;">=</span><span class="mn" id="MathJax-Span-295" style="font-family: MathJax_Main; padding-left: 0.272em;">0.01</span><span class="mo" id="MathJax-Span-296" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.316em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>f</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow></msub><mo>=</mo><mn>0.01</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-20">(P_{factor} = 0.01)</script></span>中，並且在下一節中將被證明是合理的。如果這個條件沒有得到滿足，P波就不會被標出來。</p><p>心跳的最後一個特徵波是T波。對於正常的T波，QT間隔必須短於425ms，T波持續時間從125ms到200 ms。在這些情況下，劃分演算法在QRS複合波之後200ms和400ms之間的時間間隔內搜索T波的峰值，並且絕不超過當前QRS峰值和下一波峰值之間一半的時間。</p><p>檢測T波的過程與之前解釋的P波檢測完全相同。此外，使用的閾值是<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-21-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>T</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>t</mi><mi>h</mi></mrow></msub><mo>=</mo><msub><mi>T</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>f</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow></msub><mo>&amp;#xB7;</mo><mi>A</mi><mi>v</mi><mi>g</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>Q</mi><mi>R</mi><mi>S</mi></mrow></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-297" style="width: 11.533em; display: inline-block;"><span style="display: inline-block; position: relative; width: 9.916em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1009.92em, 2.858em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-298"><span class="msubsup" id="MathJax-Span-299"><span style="display: inline-block; position: relative; width: 1.35em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.7em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-300" style="font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.11em;"></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.595em;"><span class="texatom" id="MathJax-Span-301"><span class="mrow" id="MathJax-Span-302"><span class="mi" id="MathJax-Span-303" style="font-size: 70.7%; font-family: MathJax_Math-italic;">t</span><span class="mi" id="MathJax-Span-304" style="font-size: 70.7%; font-family: MathJax_Math-italic;">h</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span><span class="mo" id="MathJax-Span-305" style="font-family: MathJax_Main; padding-left: 0.272em;">=</span><span class="msubsup" id="MathJax-Span-306" style="padding-left: 0.272em;"><span style="display: inline-block; position: relative; width: 2.643em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.7em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-307" style="font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.11em;"></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.595em;"><span class="texatom" id="MathJax-Span-308"><span class="mrow" id="MathJax-Span-309"><span class="mi" id="MathJax-Span-310" style="font-size: 70.7%; font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mi" id="MathJax-Span-311" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-312" style="font-size: 70.7%; font-family: MathJax_Math-italic;">c</span><span class="mi" id="MathJax-Span-313" style="font-size: 70.7%; font-family: MathJax_Math-italic;">t</span><span class="mi" id="MathJax-Span-314" style="font-size: 70.7%; font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-315" style="font-size: 70.7%; font-family: MathJax_Math-italic;">r</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span><span class="mo" id="MathJax-Span-316" style="font-family: MathJax_Main; padding-left: 0.218em;">⋅</span><span class="mi" id="MathJax-Span-317" style="font-family: MathJax_Math-italic; padding-left: 0.218em;">A</span><span class="mi" id="MathJax-Span-318" style="font-family: MathJax_Math-italic;">v</span><span class="mi" id="MathJax-Span-319" style="font-family: MathJax_Math-italic;">g<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="texatom" id="MathJax-Span-320"><span class="mrow" id="MathJax-Span-321"><span class="mi" id="MathJax-Span-322" style="font-family: MathJax_Math-italic;">Q</span><span class="mi" id="MathJax-Span-323" style="font-family: MathJax_Math-italic;">R</span><span class="mi" id="MathJax-Span-324" style="font-family: MathJax_Math-italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.316em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mrow class="MJX-TeXAtom-ORD"><mi>t</mi><mi>h</mi></mrow></msub><mo>=</mo><msub><mi>T</mi><mrow class="MJX-TeXAtom-ORD"><mi>f</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow></msub><mo>·</mo><mi>A</mi><mi>v</mi><mi>g</mi><mrow class="MJX-TeXAtom-ORD"><mi>Q</mi><mi>R</mi><mi>S</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-21">T_{th} = T_{factor}·Avg{QRS}</script></span>，<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-22-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>T</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>f</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow></msub><mo>=</mo><mn>0.01</mn></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-325" style="width: 6.63em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.714em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1005.66em, 2.858em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-326"><span class="msubsup" id="MathJax-Span-327"><span style="display: inline-block; position: relative; width: 2.643em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.7em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-328" style="font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.11em;"></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.595em;"><span class="texatom" id="MathJax-Span-329"><span class="mrow" id="MathJax-Span-330"><span class="mi" id="MathJax-Span-331" style="font-size: 70.7%; font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mi" id="MathJax-Span-332" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-333" style="font-size: 70.7%; font-family: MathJax_Math-italic;">c</span><span class="mi" id="MathJax-Span-334" style="font-size: 70.7%; font-family: MathJax_Math-italic;">t</span><span class="mi" id="MathJax-Span-335" style="font-size: 70.7%; font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-336" style="font-size: 70.7%; font-family: MathJax_Math-italic;">r</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span><span class="mo" id="MathJax-Span-337" style="font-family: MathJax_Main; padding-left: 0.272em;">=</span><span class="mn" id="MathJax-Span-338" style="font-family: MathJax_Main; padding-left: 0.272em;">0.01</span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.253em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mrow class="MJX-TeXAtom-ORD"><mi>f</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow></msub><mo>=</mo><mn>0.01</mn></math></span></span><script type="math/tex" id="MathJax-Element-22">T_{factor} = 0.01</script></span>，將在下一節討論。</p><h2 id="B-On-End-Module"><a class="anchor hidden-xs" href="#B-On-End-Module" title="B-On-End-Module"><span class="octicon octicon-link"></span></a>B. On-End Module</h2><p>與Peaks模塊同步執行的On-end模塊可用於檢測以前檢測到的ECG波的起始點和結束點。這是一個不太具有侵略性的低通FIR濾波器應用於<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-23-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>r</mi><mi>a</mi><mi>w</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-339" style="width: 4.151em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.559em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1003.56em, 2.697em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-340"><span class="mi" id="MathJax-Span-341" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-342" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-343"><span style="display: inline-block; position: relative; width: 2.05em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-344" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-345"><span class="mrow" id="MathJax-Span-346"><span class="mi" id="MathJax-Span-347" style="font-size: 70.7%; font-family: MathJax_Math-italic;">r</span><span class="mi" id="MathJax-Span-348" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-349" style="font-size: 70.7%; font-family: MathJax_Math-italic;">w</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>r</mi><mi>a</mi><mi>w</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-23">ECG_{raw}</script></span>，截止頻率為40Hz（信號<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-24-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-350" style="width: 4.744em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.098em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1004.1em, 2.697em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-351"><span class="mi" id="MathJax-Span-352" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-353" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-354"><span style="display: inline-block; position: relative; width: 2.589em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-355" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-356"><span class="mrow" id="MathJax-Span-357"><span class="mi" id="MathJax-Span-358" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mi" id="MathJax-Span-359" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mn" id="MathJax-Span-360" style="font-size: 70.7%; font-family: MathJax_Main;">40</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-24">ECG_{LP40}</script></span>）。該FIR濾波器可清除保存ECG波形的高頻雜訊，因此<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-25-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-361" style="width: 4.744em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.098em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1004.1em, 2.697em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-362"><span class="mi" id="MathJax-Span-363" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-364" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-365"><span style="display: inline-block; position: relative; width: 2.589em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-366" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-367"><span class="mrow" id="MathJax-Span-368"><span class="mi" id="MathJax-Span-369" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mi" id="MathJax-Span-370" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mn" id="MathJax-Span-371" style="font-size: 70.7%; font-family: MathJax_Main;">40</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-25">ECG_{LP40}</script></span>適用於檢測ECG波的起點和終點。</p><h3 id="1-QRS-on-End-Module"><a class="anchor hidden-xs" href="#1-QRS-on-End-Module" title="1-QRS-on-End-Module"><span class="octicon octicon-link"></span></a>1) QRS-on-End Module</h3><p>為了能夠檢測心電圖起點和終點，必須從<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-26-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-372" style="width: 4.744em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.098em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1004.1em, 2.697em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-373"><span class="mi" id="MathJax-Span-374" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-375" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-376"><span style="display: inline-block; position: relative; width: 2.589em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-377" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-378"><span class="mrow" id="MathJax-Span-379"><span class="mi" id="MathJax-Span-380" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mi" id="MathJax-Span-381" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mn" id="MathJax-Span-382" style="font-size: 70.7%; font-family: MathJax_Main;">40</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-26">ECG_{LP40}</script></span>中去除心電圖基線漂移。為達此目的，將<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-27-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-383" style="width: 4.744em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.098em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1004.1em, 2.697em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-384"><span class="mi" id="MathJax-Span-385" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-386" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-387"><span style="display: inline-block; position: relative; width: 2.589em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-388" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-389"><span class="mrow" id="MathJax-Span-390"><span class="mi" id="MathJax-Span-391" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mi" id="MathJax-Span-392" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mn" id="MathJax-Span-393" style="font-size: 70.7%; font-family: MathJax_Main;">40</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-27">ECG_{LP40}</script></span>送到高通濾波器產生ECG基線信號<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-28-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi></mrow></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-394" style="width: 6.307em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.445em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.404em, 1005.45em, 2.751em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-395"><span class="texatom" id="MathJax-Span-396"><span class="mrow" id="MathJax-Span-397"><span class="mo" id="MathJax-Span-398"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 86%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="mi" id="MathJax-Span-399" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-400" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-401"><span style="display: inline-block; position: relative; width: 2.212em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-402" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-403"><span class="mrow" id="MathJax-Span-404"><span class="mi" id="MathJax-Span-405" style="font-size: 70.7%; font-family: MathJax_Math-italic;">b</span><span class="mi" id="MathJax-Span-406" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-407" style="font-size: 70.7%; font-family: MathJax_Math-italic;">s</span><span class="mi" id="MathJax-Span-408" style="font-size: 70.7%; font-family: MathJax_Math-italic;">e</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span><span class="texatom" id="MathJax-Span-409"><span class="mrow" id="MathJax-Span-410"><span class="mo" id="MathJax-Span-411"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 86%; font-style: normal; font-weight: normal;">）</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.316em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi></mrow></msub><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-28">（ECG_{base}）</script></span>。消除ECG基線漂移的大多數技術可以在的其他研究中找到使用FIR濾波器或形態濾波器的方法。在本論文中，使用了形態描述濾波的方式(morphological filtering described)。</p><p>此濾波器基於兩種型態運算組成：opening,<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-29-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>f</mi><mo>&amp;#x25E6;</mo><msub><mi>B</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>o</mi><mi>p</mi></mrow></msub><mo>=</mo><mi>f</mi><mo>&amp;#x229D;</mo><msub><mi>B</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>o</mi><mi>p</mi></mrow></msub><mo>&amp;#x2295;</mo><msub><mi>B</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>o</mi><mi>p</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-412" style="width: 11.695em; display: inline-block;"><span style="display: inline-block; position: relative; width: 10.078em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.619em, 1010.08em, 3.02em, -999.997em); top: -2.584em; left: 0em;"><span class="mrow" id="MathJax-Span-413"><span class="mi" id="MathJax-Span-414" style="font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mo" id="MathJax-Span-415" style="padding-left: 0.218em;"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 86%; font-style: normal; font-weight: normal;">◦</span></span><span class="msubsup" id="MathJax-Span-416" style="padding-left: 0.218em;"><span style="display: inline-block; position: relative; width: 1.511em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-417" style="font-family: MathJax_Math-italic;">B</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.757em;"><span class="texatom" id="MathJax-Span-418"><span class="mrow" id="MathJax-Span-419"><span class="mi" id="MathJax-Span-420" style="font-size: 70.7%; font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-421" style="font-size: 70.7%; font-family: MathJax_Math-italic;">p</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span><span class="mo" id="MathJax-Span-422" style="font-family: MathJax_Main; padding-left: 0.272em;">=</span><span class="mi" id="MathJax-Span-423" style="font-family: MathJax_Math-italic; padding-left: 0.272em;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mo" id="MathJax-Span-424" style="font-family: MathJax_AMS; padding-left: 0.218em;">⊝</span><span class="msubsup" id="MathJax-Span-425" style="padding-left: 0.218em;"><span style="display: inline-block; position: relative; width: 1.511em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-426" style="font-family: MathJax_Math-italic;">B</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.757em;"><span class="texatom" id="MathJax-Span-427"><span class="mrow" id="MathJax-Span-428"><span class="mi" id="MathJax-Span-429" style="font-size: 70.7%; font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-430" style="font-size: 70.7%; font-family: MathJax_Math-italic;">p</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span><span class="mo" id="MathJax-Span-431" style="font-family: MathJax_Main; padding-left: 0.218em;">⊕</span><span class="msubsup" id="MathJax-Span-432" style="padding-left: 0.218em;"><span style="display: inline-block; position: relative; width: 1.511em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-433" style="font-family: MathJax_Math-italic;">B</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.757em;"><span class="texatom" id="MathJax-Span-434"><span class="mrow" id="MathJax-Span-435"><span class="mi" id="MathJax-Span-436" style="font-size: 70.7%; font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-437" style="font-size: 70.7%; font-family: MathJax_Math-italic;">p</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.589em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.372em; border-left: 0px solid; width: 0px; height: 1.378em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>f</mi><mo>◦</mo><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>o</mi><mi>p</mi></mrow></msub><mo>=</mo><mi>f</mi><mo>⊝</mo><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>o</mi><mi>p</mi></mrow></msub><mo>⊕</mo><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>o</mi><mi>p</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-29">f◦B_{op} =f⊝B_{op}⊕B_{op}</script></span>(從信號中消除波峰)，closing, <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-30-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>f</mi><mo>&amp;#x2022;</mo><msub><mi>B</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>c</mi><mi>l</mi></mrow></msub><mo>=</mo><mi>f</mi><mo>&amp;#x2295;</mo><msub><mi>B</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>c</mi><mi>l</mi></mrow></msub><mo>&amp;#x229D;</mo><msub><mi>B</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>c</mi><mi>l</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-438" style="width: 11.371em; display: inline-block;"><span style="display: inline-block; position: relative; width: 9.809em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.727em, 1009.81em, 2.966em, -999.997em); top: -2.584em; left: 0em;"><span class="mrow" id="MathJax-Span-439"><span class="mi" id="MathJax-Span-440" style="font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mo" id="MathJax-Span-441" style="font-family: MathJax_Main; padding-left: 0.218em;">∙</span><span class="msubsup" id="MathJax-Span-442" style="padding-left: 0.218em;"><span style="display: inline-block; position: relative; width: 1.35em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-443" style="font-family: MathJax_Math-italic;">B</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.757em;"><span class="texatom" id="MathJax-Span-444"><span class="mrow" id="MathJax-Span-445"><span class="mi" id="MathJax-Span-446" style="font-size: 70.7%; font-family: MathJax_Math-italic;">c</span><span class="mi" id="MathJax-Span-447" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span><span class="mo" id="MathJax-Span-448" style="font-family: MathJax_Main; padding-left: 0.272em;">=</span><span class="mi" id="MathJax-Span-449" style="font-family: MathJax_Math-italic; padding-left: 0.272em;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mo" id="MathJax-Span-450" style="font-family: MathJax_Main; padding-left: 0.218em;">⊕</span><span class="msubsup" id="MathJax-Span-451" style="padding-left: 0.218em;"><span style="display: inline-block; position: relative; width: 1.35em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-452" style="font-family: MathJax_Math-italic;">B</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.757em;"><span class="texatom" id="MathJax-Span-453"><span class="mrow" id="MathJax-Span-454"><span class="mi" id="MathJax-Span-455" style="font-size: 70.7%; font-family: MathJax_Math-italic;">c</span><span class="mi" id="MathJax-Span-456" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span><span class="mo" id="MathJax-Span-457" style="font-family: MathJax_AMS; padding-left: 0.218em;">⊝</span><span class="msubsup" id="MathJax-Span-458" style="padding-left: 0.218em;"><span style="display: inline-block; position: relative; width: 1.35em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-459" style="font-family: MathJax_Math-italic;">B</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.757em;"><span class="texatom" id="MathJax-Span-460"><span class="mrow" id="MathJax-Span-461"><span class="mi" id="MathJax-Span-462" style="font-size: 70.7%; font-family: MathJax_Math-italic;">c</span><span class="mi" id="MathJax-Span-463" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.589em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>f</mi><mo>•</mo><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>c</mi><mi>l</mi></mrow></msub><mo>=</mo><mi>f</mi><mo>⊕</mo><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>c</mi><mi>l</mi></mrow></msub><mo>⊝</mo><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>c</mi><mi>l</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-30">f • B_{cl} = f ⊕ B_{cl}⊝B_{cl}</script></span>(從信號中消除低谷)，其中<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-31-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>f</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-464" style="width: 0.649em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.541em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1000.54em, 2.751em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-465"><span class="mi" id="MathJax-Span-466" style="font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>f</mi></math></span></span><script type="math/tex" id="MathJax-Element-31">f</script></span>是要濾波的信號，<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-32-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>B</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-467" style="width: 0.919em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.757em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1000.76em, 2.535em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-468"><span class="mi" id="MathJax-Span-469" style="font-family: MathJax_Math-italic;">B</span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>B</mi></math></span></span><script type="math/tex" id="MathJax-Element-32">B</script></span>表示零幅度的水平線段，<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-33-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo>&amp;#x229D;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x548C;</mo></mrow><mo>&amp;#x2295;</mo></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-470" style="width: 2.804em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.427em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.619em, 1002.37em, 2.966em, -999.997em); top: -2.584em; left: 0em;"><span class="mrow" id="MathJax-Span-471"><span class="mo" id="MathJax-Span-472" style="font-family: MathJax_AMS;">⊝</span><span class="texatom" id="MathJax-Span-473"><span class="mrow" id="MathJax-Span-474"><span class="mo" id="MathJax-Span-475"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 86%; font-style: normal; font-weight: normal;">和</span></span></span></span><span class="mo" id="MathJax-Span-476" style="font-family: MathJax_Main;">⊕</span></span><span style="display: inline-block; width: 0px; height: 2.589em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.316em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>⊝</mo><mrow class="MJX-TeXAtom-ORD"><mo>和</mo></mrow><mo>⊕</mo></math></span></span><script type="math/tex" id="MathJax-Element-33">⊝和⊕</script></span>分別對應侵蝕和擴張運算。 <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-34-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>B</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>o</mi><mi>p</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-477" style="width: 1.781em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.511em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1001.51em, 2.804em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-478"><span class="msubsup" id="MathJax-Span-479"><span style="display: inline-block; position: relative; width: 1.511em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-480" style="font-family: MathJax_Math-italic;">B</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.757em;"><span class="texatom" id="MathJax-Span-481"><span class="mrow" id="MathJax-Span-482"><span class="mi" id="MathJax-Span-483" style="font-size: 70.7%; font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-484" style="font-size: 70.7%; font-family: MathJax_Math-italic;">p</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.372em; border-left: 0px solid; width: 0px; height: 1.253em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>o</mi><mi>p</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-34">B_{op}</script></span>的長度選擇為0.2秒，因為該值大於ECG信號的特徵波（P，Q，R，S和T波，單獨）的寬度。 <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-35-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>B</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>c</mi><mi>l</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-485" style="width: 1.565em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.35em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1001.35em, 2.697em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-486"><span class="msubsup" id="MathJax-Span-487"><span style="display: inline-block; position: relative; width: 1.35em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-488" style="font-family: MathJax_Math-italic;">B</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.757em;"><span class="texatom" id="MathJax-Span-489"><span class="mrow" id="MathJax-Span-490"><span class="mi" id="MathJax-Span-491" style="font-size: 70.7%; font-family: MathJax_Math-italic;">c</span><span class="mi" id="MathJax-Span-492" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>c</mi><mi>l</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-35">B_{cl}</script></span>的長度應該比<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-36-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>B</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>o</mi><mi>p</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-493" style="width: 1.781em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.511em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1001.51em, 2.804em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-494"><span class="msubsup" id="MathJax-Span-495"><span style="display: inline-block; position: relative; width: 1.511em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-496" style="font-family: MathJax_Math-italic;">B</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.757em;"><span class="texatom" id="MathJax-Span-497"><span class="mrow" id="MathJax-Span-498"><span class="mi" id="MathJax-Span-499" style="font-size: 70.7%; font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-500" style="font-size: 70.7%; font-family: MathJax_Math-italic;">p</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.372em; border-left: 0px solid; width: 0px; height: 1.253em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>o</mi><mi>p</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-36">B_{op}</script></span>的長度長，通常選擇為<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-37-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>B</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>o</mi><mi>p</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-501" style="width: 1.781em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.511em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1001.51em, 2.804em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-502"><span class="msubsup" id="MathJax-Span-503"><span style="display: inline-block; position: relative; width: 1.511em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-504" style="font-family: MathJax_Math-italic;">B</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.757em;"><span class="texatom" id="MathJax-Span-505"><span class="mrow" id="MathJax-Span-506"><span class="mi" id="MathJax-Span-507" style="font-size: 70.7%; font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-508" style="font-size: 70.7%; font-family: MathJax_Math-italic;">p</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.372em; border-left: 0px solid; width: 0px; height: 1.253em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>o</mi><mi>p</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-37">B_{op}</script></span>長度的1.5倍，因此選擇0.3秒。每個運算導致的延遲等於所用window長度的一半，因此形態濾波器的總延遲為0.5秒。</p><p>這種類型的濾波器比其他技術具有更低的計算成本，因為它只需要在B值的數組中找到最大值或最小值。例如<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-38-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-509" style="width: 4.313em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.72em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1003.72em, 2.697em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-510"><span class="mi" id="MathJax-Span-511" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-512" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-513"><span style="display: inline-block; position: relative; width: 2.212em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-514" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-515"><span class="mrow" id="MathJax-Span-516"><span class="mi" id="MathJax-Span-517" style="font-size: 70.7%; font-family: MathJax_Math-italic;">b</span><span class="mi" id="MathJax-Span-518" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-519" style="font-size: 70.7%; font-family: MathJax_Math-italic;">s</span><span class="mi" id="MathJax-Span-520" style="font-size: 70.7%; font-family: MathJax_Math-italic;">e</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-38">ECG_{base}</script></span>（基線漂移）的處理使用opening和closing的運算(如Fig.7)。<br>
<img src="https://i.imgur.com/tPutbjp.png" alt=""></p><p>在QRS波峰附近，ECG基線漂移（<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-39-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-521" style="width: 4.313em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.72em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1003.72em, 2.697em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-522"><span class="mi" id="MathJax-Span-523" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-524" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-525"><span style="display: inline-block; position: relative; width: 2.212em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-526" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-527"><span class="mrow" id="MathJax-Span-528"><span class="mi" id="MathJax-Span-529" style="font-size: 70.7%; font-family: MathJax_Math-italic;">b</span><span class="mi" id="MathJax-Span-530" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-531" style="font-size: 70.7%; font-family: MathJax_Math-italic;">s</span><span class="mi" id="MathJax-Span-532" style="font-size: 70.7%; font-family: MathJax_Math-italic;">e</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-39">ECG_{base}</script></span>）用於偵測其起點和終點。假設一個正的QRS複合波，QRS波峰就是R。理論上，<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-40-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x8207;</mo></mrow><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-533" style="width: 10.078em; display: inline-block;"><span style="display: inline-block; position: relative; width: 8.677em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.404em, 1008.68em, 2.751em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-534"><span class="mi" id="MathJax-Span-535" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-536" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-537"><span style="display: inline-block; position: relative; width: 2.589em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-538" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-539"><span class="mrow" id="MathJax-Span-540"><span class="mi" id="MathJax-Span-541" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mi" id="MathJax-Span-542" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mn" id="MathJax-Span-543" style="font-size: 70.7%; font-family: MathJax_Main;">40</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span><span class="texatom" id="MathJax-Span-544"><span class="mrow" id="MathJax-Span-545"><span class="mo" id="MathJax-Span-546"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 86%; font-style: normal; font-weight: normal;">與</span></span></span></span><span class="mi" id="MathJax-Span-547" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-548" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-549"><span style="display: inline-block; position: relative; width: 2.212em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-550" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-551"><span class="mrow" id="MathJax-Span-552"><span class="mi" id="MathJax-Span-553" style="font-size: 70.7%; font-family: MathJax_Math-italic;">b</span><span class="mi" id="MathJax-Span-554" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-555" style="font-size: 70.7%; font-family: MathJax_Math-italic;">s</span><span class="mi" id="MathJax-Span-556" style="font-size: 70.7%; font-family: MathJax_Math-italic;">e</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.316em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub><mrow class="MJX-TeXAtom-ORD"><mo>與</mo></mrow><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-40">ECG_{LP40}與ECG_{base}</script></span>的交叉確定了兩個特徵點：先前的交叉會是R波的開始，而後面的交叉會是R波的結束。</p><p>然而，<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-41-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-557" style="width: 4.744em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.098em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1004.1em, 2.697em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-558"><span class="mi" id="MathJax-Span-559" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-560" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-561"><span style="display: inline-block; position: relative; width: 2.589em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-562" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-563"><span class="mrow" id="MathJax-Span-564"><span class="mi" id="MathJax-Span-565" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mi" id="MathJax-Span-566" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mn" id="MathJax-Span-567" style="font-size: 70.7%; font-family: MathJax_Main;">40</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-41">ECG_{LP40}</script></span>可能不會穿過R波附近的<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-42-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-568" style="width: 4.313em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.72em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1003.72em, 2.697em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-569"><span class="mi" id="MathJax-Span-570" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-571" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-572"><span style="display: inline-block; position: relative; width: 2.212em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-573" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-574"><span class="mrow" id="MathJax-Span-575"><span class="mi" id="MathJax-Span-576" style="font-size: 70.7%; font-family: MathJax_Math-italic;">b</span><span class="mi" id="MathJax-Span-577" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-578" style="font-size: 70.7%; font-family: MathJax_Math-italic;">s</span><span class="mi" id="MathJax-Span-579" style="font-size: 70.7%; font-family: MathJax_Math-italic;">e</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-42">ECG_{base}</script></span>，特別是如果沒有Q波或S波（Fig.8）。為了避免演算法無法正確檢測到起點和終點，這些點被選為R波振幅的5％而不是真實的基線交叉點，其中振幅被定義為R峰位置中<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-43-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x548C;</mo></mrow><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-580" style="width: 10.078em; display: inline-block;"><span style="display: inline-block; position: relative; width: 8.677em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.404em, 1008.68em, 2.751em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-581"><span class="mi" id="MathJax-Span-582" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-583" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-584"><span style="display: inline-block; position: relative; width: 2.589em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-585" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-586"><span class="mrow" id="MathJax-Span-587"><span class="mi" id="MathJax-Span-588" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mi" id="MathJax-Span-589" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mn" id="MathJax-Span-590" style="font-size: 70.7%; font-family: MathJax_Main;">40</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span><span class="texatom" id="MathJax-Span-591"><span class="mrow" id="MathJax-Span-592"><span class="mo" id="MathJax-Span-593"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 86%; font-style: normal; font-weight: normal;">和</span></span></span></span><span class="mi" id="MathJax-Span-594" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-595" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-596"><span style="display: inline-block; position: relative; width: 2.212em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-597" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-598"><span class="mrow" id="MathJax-Span-599"><span class="mi" id="MathJax-Span-600" style="font-size: 70.7%; font-family: MathJax_Math-italic;">b</span><span class="mi" id="MathJax-Span-601" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-602" style="font-size: 70.7%; font-family: MathJax_Math-italic;">s</span><span class="mi" id="MathJax-Span-603" style="font-size: 70.7%; font-family: MathJax_Math-italic;">e</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.316em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub><mrow class="MJX-TeXAtom-ORD"><mo>和</mo></mrow><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-43">ECG_{LP40}和ECG_{base}</script></span>之間的差異。</p><p><img src="https://i.imgur.com/pUnikNO.png" alt=""><br>
一旦發現R波，可以在R波前檢測到Q波。如果存在Q波，則它比R波小，並且其在正常Q波中的持續時間不超過20 / 25ms。考慮Q波的存在，必須滿足三條規則：</p><ol>
<li>波在R波之前被發現並且是負的.</li>
<li>其持續時間少於100毫秒.</li>
<li>其幅度大於R波幅度的5％。(5%是根據經驗選擇的，低於這個值的檢測被認為是由於雜訊引起的變化。)</li>
</ol><p>最後，如果檢測到Q波，<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-44-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x8207;</mo></mrow><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-604" style="width: 10.078em; display: inline-block;"><span style="display: inline-block; position: relative; width: 8.677em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.404em, 1008.68em, 2.751em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-605"><span class="mi" id="MathJax-Span-606" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-607" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-608"><span style="display: inline-block; position: relative; width: 2.589em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-609" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-610"><span class="mrow" id="MathJax-Span-611"><span class="mi" id="MathJax-Span-612" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mi" id="MathJax-Span-613" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mn" id="MathJax-Span-614" style="font-size: 70.7%; font-family: MathJax_Main;">40</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span><span class="texatom" id="MathJax-Span-615"><span class="mrow" id="MathJax-Span-616"><span class="mo" id="MathJax-Span-617"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 86%; font-style: normal; font-weight: normal;">與</span></span></span></span><span class="mi" id="MathJax-Span-618" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-619" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-620"><span style="display: inline-block; position: relative; width: 2.212em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-621" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-622"><span class="mrow" id="MathJax-Span-623"><span class="mi" id="MathJax-Span-624" style="font-size: 70.7%; font-family: MathJax_Math-italic;">b</span><span class="mi" id="MathJax-Span-625" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-626" style="font-size: 70.7%; font-family: MathJax_Math-italic;">s</span><span class="mi" id="MathJax-Span-627" style="font-size: 70.7%; font-family: MathJax_Math-italic;">e</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.316em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub><mrow class="MJX-TeXAtom-ORD"><mo>與</mo></mrow><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-44">ECG_{LP40}與ECG_{base}</script></span>的第一次穿越決定了Q波的開始。這一點就被當成為QRS複合波的起始。如果算法沒有檢測到Q波的存在，R波的發作被當作為QRS複合波的起始。為了改善QRS複合波起點的最終定位，該算法在前20ms內搜索$ECG_{LP40}的局部最大值。如果存在這樣的最大值，QRS複合波的起始點會更新到新的位置。</p><p>如果檢測到R波，可能會出現S波。考慮S波和處理方法的要求與Q波相同。唯一的區別是搜索發生在R峰之後而不是之前。如果標記了S波，則S波的末端也是QRS複合波的終點。否則，R波的終點是QRS波群的終點。</p><p>如果QRS波為負值，則檢測結果相似，但QRS波峰對應於S波，算法在S波前後尋找正偏轉（R波）。</p><h3 id="2-P-on-End-Module"><a class="anchor hidden-xs" href="#2-P-on-End-Module" title="2-P-on-End-Module"><span class="octicon octicon-link"></span></a>2) P-on-End Module</h3><p>為了檢測P波的起點和終點，必須找到<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-45-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-628" style="width: 4.744em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.098em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1004.1em, 2.697em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-629"><span class="mi" id="MathJax-Span-630" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-631" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-632"><span style="display: inline-block; position: relative; width: 2.589em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-633" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-634"><span class="mrow" id="MathJax-Span-635"><span class="mi" id="MathJax-Span-636" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mi" id="MathJax-Span-637" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mn" id="MathJax-Span-638" style="font-size: 70.7%; font-family: MathJax_Main;">40</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-45">ECG_{LP40}</script></span>與基線的交叉點（分別在峰的左側和右側）。為此，使用P基准信號（Fig.3）。該信號是通過將以前定義的形態學操作作為開口（II-B1）應用於<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-46-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-639" style="width: 4.744em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.098em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1004.1em, 2.697em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-640"><span class="mi" id="MathJax-Span-641" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-642" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-643"><span style="display: inline-block; position: relative; width: 2.589em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-644" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-645"><span class="mrow" id="MathJax-Span-646"><span class="mi" id="MathJax-Span-647" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mi" id="MathJax-Span-648" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mn" id="MathJax-Span-649" style="font-size: 70.7%; font-family: MathJax_Main;">40</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-46">ECG_{LP40}</script></span>而獲得的，<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-47-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-650" style="width: 4.744em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.098em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1004.1em, 2.697em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-651"><span class="mi" id="MathJax-Span-652" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-653" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-654"><span style="display: inline-block; position: relative; width: 2.589em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-655" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-656"><span class="mrow" id="MathJax-Span-657"><span class="mi" id="MathJax-Span-658" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mi" id="MathJax-Span-659" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mn" id="MathJax-Span-660" style="font-size: 70.7%; font-family: MathJax_Main;">40</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-47">ECG_{LP40}</script></span>以與<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-48-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-661" style="width: 4.313em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.72em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1003.72em, 2.697em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-662"><span class="mi" id="MathJax-Span-663" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-664" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-665"><span style="display: inline-block; position: relative; width: 2.212em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-666" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-667"><span class="mrow" id="MathJax-Span-668"><span class="mi" id="MathJax-Span-669" style="font-size: 70.7%; font-family: MathJax_Math-italic;">b</span><span class="mi" id="MathJax-Span-670" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-671" style="font-size: 70.7%; font-family: MathJax_Math-italic;">s</span><span class="mi" id="MathJax-Span-672" style="font-size: 70.7%; font-family: MathJax_Math-italic;">e</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-48">ECG_{base}</script></span>中相同的方式去除信號的峰值。但是，在這種情況下分割<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-49-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>B</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>o</mi><mi>p</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-673" style="width: 1.781em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.511em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1001.51em, 2.804em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-674"><span class="msubsup" id="MathJax-Span-675"><span style="display: inline-block; position: relative; width: 1.511em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-676" style="font-family: MathJax_Math-italic;">B</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.757em;"><span class="texatom" id="MathJax-Span-677"><span class="mrow" id="MathJax-Span-678"><span class="mi" id="MathJax-Span-679" style="font-size: 70.7%; font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-680" style="font-size: 70.7%; font-family: MathJax_Math-italic;">p</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.372em; border-left: 0px solid; width: 0px; height: 1.253em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>o</mi><mi>p</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-49">B_{op}</script></span>的長度不同。由於正常的P波的最大長度為120毫秒，所以<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-50-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>B</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>o</mi><mi>p</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-681" style="width: 1.781em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.511em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1001.51em, 2.804em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-682"><span class="msubsup" id="MathJax-Span-683"><span style="display: inline-block; position: relative; width: 1.511em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-684" style="font-family: MathJax_Math-italic;">B</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.757em;"><span class="texatom" id="MathJax-Span-685"><span class="mrow" id="MathJax-Span-686"><span class="mi" id="MathJax-Span-687" style="font-size: 70.7%; font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-688" style="font-size: 70.7%; font-family: MathJax_Math-italic;">p</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.372em; border-left: 0px solid; width: 0px; height: 1.253em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>o</mi><mi>p</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-50">B_{op}</script></span>的長度必須與該特性一致。選擇<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-51-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>B</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>o</mi><mi>p</mi></mrow></msub><mo>=</mo><mn>120</mn><mi>m</mi><mi>s</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-689" style="width: 6.576em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.66em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1005.61em, 2.804em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-690"><span class="msubsup" id="MathJax-Span-691"><span style="display: inline-block; position: relative; width: 1.511em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-692" style="font-family: MathJax_Math-italic;">B</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.757em;"><span class="texatom" id="MathJax-Span-693"><span class="mrow" id="MathJax-Span-694"><span class="mi" id="MathJax-Span-695" style="font-size: 70.7%; font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-696" style="font-size: 70.7%; font-family: MathJax_Math-italic;">p</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span><span class="mo" id="MathJax-Span-697" style="font-family: MathJax_Main; padding-left: 0.272em;">=</span><span class="mn" id="MathJax-Span-698" style="font-family: MathJax_Main; padding-left: 0.272em;">120</span><span class="mi" id="MathJax-Span-699" style="font-family: MathJax_Math-italic;">m</span><span class="mi" id="MathJax-Span-700" style="font-family: MathJax_Math-italic;">s</span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.372em; border-left: 0px solid; width: 0px; height: 1.253em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>o</mi><mi>p</mi></mrow></msub><mo>=</mo><mn>120</mn><mi>m</mi><mi>s</mi></math></span></span><script type="math/tex" id="MathJax-Element-51">B_{op} = 120 ms</script></span>，opening刪除寬度小於這個時間的峰值，並很好地逼近P波的基線。</p><p><img src="https://i.imgur.com/zd0J7hU.png" alt=""></p><p>如同QRS複合波一樣，P波的起始和結束在理論上也是<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-52-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x8207;</mo></mrow><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-701" style="width: 8.138em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.007em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.404em, 1007.01em, 2.751em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-702"><span class="mi" id="MathJax-Span-703" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-704" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-705"><span style="display: inline-block; position: relative; width: 2.589em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-706" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-707"><span class="mrow" id="MathJax-Span-708"><span class="mi" id="MathJax-Span-709" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mi" id="MathJax-Span-710" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mn" id="MathJax-Span-711" style="font-size: 70.7%; font-family: MathJax_Main;">40</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span><span class="texatom" id="MathJax-Span-712"><span class="mrow" id="MathJax-Span-713"><span class="mo" id="MathJax-Span-714"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 86%; font-style: normal; font-weight: normal;">與</span></span></span></span><span class="msubsup" id="MathJax-Span-715"><span style="display: inline-block; position: relative; width: 2.05em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-716" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.11em;"></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.649em;"><span class="texatom" id="MathJax-Span-717"><span class="mrow" id="MathJax-Span-718"><span class="mi" id="MathJax-Span-719" style="font-size: 70.7%; font-family: MathJax_Math-italic;">b</span><span class="mi" id="MathJax-Span-720" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-721" style="font-size: 70.7%; font-family: MathJax_Math-italic;">s</span><span class="mi" id="MathJax-Span-722" style="font-size: 70.7%; font-family: MathJax_Math-italic;">e</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.316em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub><mrow class="MJX-TeXAtom-ORD"><mo>與</mo></mrow><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-52">ECG_{LP40}與P_{base}</script></span>的交叉點。但是，這些穿越可能不會發生在P波的峰值附近。由於這個原因，起始和結束被定義為在<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-53-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-723" style="width: 4.744em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.098em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1004.1em, 2.697em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-724"><span class="mi" id="MathJax-Span-725" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-726" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-727"><span style="display: inline-block; position: relative; width: 2.589em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-728" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-729"><span class="mrow" id="MathJax-Span-730"><span class="mi" id="MathJax-Span-731" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mi" id="MathJax-Span-732" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mn" id="MathJax-Span-733" style="font-size: 70.7%; font-family: MathJax_Main;">40</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-53">ECG_{LP40}</script></span>中發現的第一局部最小值（分別在峰的左側和右側），其中<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-54-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x8207;</mo></mrow><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-734" style="width: 8.138em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.007em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.404em, 1007.01em, 2.751em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-735"><span class="mi" id="MathJax-Span-736" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-737" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-738"><span style="display: inline-block; position: relative; width: 2.589em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-739" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-740"><span class="mrow" id="MathJax-Span-741"><span class="mi" id="MathJax-Span-742" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mi" id="MathJax-Span-743" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mn" id="MathJax-Span-744" style="font-size: 70.7%; font-family: MathJax_Main;">40</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span><span class="texatom" id="MathJax-Span-745"><span class="mrow" id="MathJax-Span-746"><span class="mo" id="MathJax-Span-747"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 86%; font-style: normal; font-weight: normal;">與</span></span></span></span><span class="msubsup" id="MathJax-Span-748"><span style="display: inline-block; position: relative; width: 2.05em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-749" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.11em;"></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.649em;"><span class="texatom" id="MathJax-Span-750"><span class="mrow" id="MathJax-Span-751"><span class="mi" id="MathJax-Span-752" style="font-size: 70.7%; font-family: MathJax_Math-italic;">b</span><span class="mi" id="MathJax-Span-753" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-754" style="font-size: 70.7%; font-family: MathJax_Math-italic;">s</span><span class="mi" id="MathJax-Span-755" style="font-size: 70.7%; font-family: MathJax_Math-italic;">e</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.316em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub><mrow class="MJX-TeXAtom-ORD"><mo>與</mo></mrow><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-54">ECG_{LP40}與P_{base}</script></span>之間的差異在幅度的50％和2.5％之間的P波，定義為P峰位置的<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-55-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x8207;</mo></mrow><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-756" style="width: 8.138em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.007em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.404em, 1007.01em, 2.751em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-757"><span class="mi" id="MathJax-Span-758" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-759" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-760"><span style="display: inline-block; position: relative; width: 2.589em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-761" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-762"><span class="mrow" id="MathJax-Span-763"><span class="mi" id="MathJax-Span-764" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mi" id="MathJax-Span-765" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mn" id="MathJax-Span-766" style="font-size: 70.7%; font-family: MathJax_Main;">40</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span><span class="texatom" id="MathJax-Span-767"><span class="mrow" id="MathJax-Span-768"><span class="mo" id="MathJax-Span-769"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 86%; font-style: normal; font-weight: normal;">與</span></span></span></span><span class="msubsup" id="MathJax-Span-770"><span style="display: inline-block; position: relative; width: 2.05em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-771" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.11em;"></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.649em;"><span class="texatom" id="MathJax-Span-772"><span class="mrow" id="MathJax-Span-773"><span class="mi" id="MathJax-Span-774" style="font-size: 70.7%; font-family: MathJax_Math-italic;">b</span><span class="mi" id="MathJax-Span-775" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-776" style="font-size: 70.7%; font-family: MathJax_Math-italic;">s</span><span class="mi" id="MathJax-Span-777" style="font-size: 70.7%; font-family: MathJax_Math-italic;">e</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.316em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub><mrow class="MJX-TeXAtom-ORD"><mo>與</mo></mrow><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-55">ECG_{LP40}與P_{base}</script></span>之間的差異。</p><h3 id="3-T-End-Module"><a class="anchor hidden-xs" href="#3-T-End-Module" title="3-T-End-Module"><span class="octicon octicon-link"></span></a>3) T-End Module</h3><p>正如檢測P波起點和終點一樣，需要T波基線（<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-56-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>T</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-778" style="width: 2.32em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.996em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1002em, 2.697em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-779"><span class="msubsup" id="MathJax-Span-780"><span style="display: inline-block; position: relative; width: 1.996em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.7em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-781" style="font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.11em;"></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.595em;"><span class="texatom" id="MathJax-Span-782"><span class="mrow" id="MathJax-Span-783"><span class="mi" id="MathJax-Span-784" style="font-size: 70.7%; font-family: MathJax_Math-italic;">b</span><span class="mi" id="MathJax-Span-785" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-786" style="font-size: 70.7%; font-family: MathJax_Math-italic;">s</span><span class="mi" id="MathJax-Span-787" style="font-size: 70.7%; font-family: MathJax_Math-italic;">e</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.066em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mrow class="MJX-TeXAtom-ORD"><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-56">T_{base}</script></span>）（Fig.3）。該信號使用<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-57-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>B</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>o</mi><mi>p</mi></mrow></msub><mo>=</mo><mn>200</mn><mi>m</mi><mi>s</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-788" style="width: 6.576em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.66em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1005.61em, 2.804em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-789"><span class="msubsup" id="MathJax-Span-790"><span style="display: inline-block; position: relative; width: 1.511em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-791" style="font-family: MathJax_Math-italic;">B</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.757em;"><span class="texatom" id="MathJax-Span-792"><span class="mrow" id="MathJax-Span-793"><span class="mi" id="MathJax-Span-794" style="font-size: 70.7%; font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-795" style="font-size: 70.7%; font-family: MathJax_Math-italic;">p</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span><span class="mo" id="MathJax-Span-796" style="font-family: MathJax_Main; padding-left: 0.272em;">=</span><span class="mn" id="MathJax-Span-797" style="font-family: MathJax_Main; padding-left: 0.272em;">200</span><span class="mi" id="MathJax-Span-798" style="font-family: MathJax_Math-italic;">m</span><span class="mi" id="MathJax-Span-799" style="font-family: MathJax_Math-italic;">s</span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.372em; border-left: 0px solid; width: 0px; height: 1.253em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>o</mi><mi>p</mi></mrow></msub><mo>=</mo><mn>200</mn><mi>m</mi><mi>s</mi></math></span></span><script type="math/tex" id="MathJax-Element-57">B_{op} = 200 ms</script></span>的opening（IIB1）進行運算，因為正常T波不得超過200ms。 <span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-58-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-800" style="width: 4.744em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.098em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1004.1em, 2.697em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-801"><span class="mi" id="MathJax-Span-802" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-803" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-804"><span style="display: inline-block; position: relative; width: 2.589em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-805" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-806"><span class="mrow" id="MathJax-Span-807"><span class="mi" id="MathJax-Span-808" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mi" id="MathJax-Span-809" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mn" id="MathJax-Span-810" style="font-size: 70.7%; font-family: MathJax_Main;">40</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-58">ECG_{LP40}</script></span>與<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-59-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>T</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-811" style="width: 2.32em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.996em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1002em, 2.697em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-812"><span class="msubsup" id="MathJax-Span-813"><span style="display: inline-block; position: relative; width: 1.996em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.7em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-814" style="font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.11em;"></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.595em;"><span class="texatom" id="MathJax-Span-815"><span class="mrow" id="MathJax-Span-816"><span class="mi" id="MathJax-Span-817" style="font-size: 70.7%; font-family: MathJax_Math-italic;">b</span><span class="mi" id="MathJax-Span-818" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-819" style="font-size: 70.7%; font-family: MathJax_Math-italic;">s</span><span class="mi" id="MathJax-Span-820" style="font-size: 70.7%; font-family: MathJax_Math-italic;">e</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.066em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mrow class="MJX-TeXAtom-ORD"><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-59">T_{base}</script></span>在T波峰的右側交叉應該確定結束。然而，與在P波中一樣，該點已被重新定義為在<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-60-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-821" style="width: 4.744em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.098em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1004.1em, 2.697em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-822"><span class="mi" id="MathJax-Span-823" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-824" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-825"><span style="display: inline-block; position: relative; width: 2.589em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-826" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-827"><span class="mrow" id="MathJax-Span-828"><span class="mi" id="MathJax-Span-829" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mi" id="MathJax-Span-830" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mn" id="MathJax-Span-831" style="font-size: 70.7%; font-family: MathJax_Main;">40</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-60">ECG_{LP40}</script></span>中發現的第一局部最小值，其中<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-61-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-832" style="width: 4.744em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.098em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1004.1em, 2.697em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-833"><span class="mi" id="MathJax-Span-834" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-835" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-836"><span style="display: inline-block; position: relative; width: 2.589em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-837" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-838"><span class="mrow" id="MathJax-Span-839"><span class="mi" id="MathJax-Span-840" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mi" id="MathJax-Span-841" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mn" id="MathJax-Span-842" style="font-size: 70.7%; font-family: MathJax_Main;">40</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-61">ECG_{LP40}</script></span>與<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-62-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>T</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-843" style="width: 2.32em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.996em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1002em, 2.697em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-844"><span class="msubsup" id="MathJax-Span-845"><span style="display: inline-block; position: relative; width: 1.996em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.7em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-846" style="font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.11em;"></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.595em;"><span class="texatom" id="MathJax-Span-847"><span class="mrow" id="MathJax-Span-848"><span class="mi" id="MathJax-Span-849" style="font-size: 70.7%; font-family: MathJax_Math-italic;">b</span><span class="mi" id="MathJax-Span-850" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-851" style="font-size: 70.7%; font-family: MathJax_Math-italic;">s</span><span class="mi" id="MathJax-Span-852" style="font-size: 70.7%; font-family: MathJax_Math-italic;">e</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.066em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mrow class="MJX-TeXAtom-ORD"><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-62">T_{base}</script></span>之間的差異在T波幅度的50％到2.5％之間，以獲得更好的結果。該算法能夠檢測到兩種類型的T波，即正常和異常，儘管雙相T波可能無法準確檢測到。</p><p>所描述的ECG描繪的完整結果Fig.9所示。這段信號擷取於QT數據庫的sel16539記錄。<br>
<img src="https://i.imgur.com/4nedVfe.png" alt=""></p><h2 id="C-Validation-of-the-Algorithm"><a class="anchor hidden-xs" href="#C-Validation-of-the-Algorithm" title="C-Validation-of-the-Algorithm"><span class="octicon octicon-link"></span></a>C. Validation of the Algorithm</h2><p>描述演算法已經使用QT數據庫進行了驗證，並透過MATLAB使用WFDB toolbox獲取資料。該數據庫由105個15分鐘的雙導聯ECG記錄片段組成，取樣頻率為250Hz。每次記錄30至70次搏動（包括P波，QRS波群和T波）由心臟病專家手動註釋。</p><p>本論文提出的演算法適用於單導程信號，因此比較的以每個數據庫雙通道中紀錄的每個手動註釋樣本，並搜尋演算法是否在附近（150ms）找到相同類型的註釋樣本。這個時間間隔已經被標準所指定，其中醫療器械促進協會（AAMI）描述了應當用於算法驗證的度量。這段時間間隔將在文章的其餘部分被稱為「容差(tolerance)」。</p><p>如果演算法正確檢測到一個點，則計一個真正的（TP）檢測，錯誤時紀錄數據庫中手動註釋的點與演算法執行的自動檢測之間的時間間隔。該算法在QT數據庫的每個導程中分別執行，並且選擇呈現最小誤差的那個點。如果演算法沒有檢測到點，則計數一個假陰性（FN）檢測。一旦演算法的每個檢測點與數據庫對應到的手動註釋點比較完畢後，任何未與數據庫相關的點都被視為誤報（FP）。在此基礎上，定義了4種不同的指標用於評估算法：平均誤差（m），平均誤差標準偏差（σ），靈敏度（Se（％）= TP /（TP + FN））和陽性預測值（PPV（％）= TP /（TP + FP））。這個驗證過程被選擇為與以前的作品進行公平的比較，將在下一節中介紹。</p><p><img src="https://i.imgur.com/DgY5b4x.png" alt=""></p><p>Table I 表示通過使用AAMI定義的度量來描述QT數據庫的演算法所獲得的結果，其中使用了針對<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-63-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>L</mi><mi>P</mi><mn>14</mn></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-853" style="width: 4.744em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.098em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1004.1em, 2.697em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-854"><span class="mi" id="MathJax-Span-855" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-856" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-857"><span style="display: inline-block; position: relative; width: 2.589em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-858" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-859"><span class="mrow" id="MathJax-Span-860"><span class="mi" id="MathJax-Span-861" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mi" id="MathJax-Span-862" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mn" id="MathJax-Span-863" style="font-size: 70.7%; font-family: MathJax_Main;">14</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>L</mi><mi>P</mi><mn>14</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-63">ECG_{LP14}</script></span>和<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-64-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-864" style="width: 4.744em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.098em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1004.1em, 2.697em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-865"><span class="mi" id="MathJax-Span-866" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-867" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-868"><span style="display: inline-block; position: relative; width: 2.589em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-869" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-870"><span class="mrow" id="MathJax-Span-871"><span class="mi" id="MathJax-Span-872" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mi" id="MathJax-Span-873" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mn" id="MathJax-Span-874" style="font-size: 70.7%; font-family: MathJax_Main;">40</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-64">ECG_{LP40}</script></span>的order-40 FIR濾波器。結果顯示P，QRS波和T波高於98％，並且每個描述點平均誤差的標準偏差低於心電圖通用標準（CSE）委員會的容差（s &lt;2σCSE，稱為“鬆散標準”），除了P波，其值為3ms以上。 T波結束的平均誤差最高，但低於容差，這一點的適當描述是一個眾所周知的挑戰，即使對於心臟病專家和現存的不同的研究討論此問題也是一樣的。</p><h2 id="D-Adjusting-the-Algorithm-Parameters"><a class="anchor hidden-xs" href="#D-Adjusting-the-Algorithm-Parameters" title="D-Adjusting-the-Algorithm-Parameters"><span class="octicon octicon-link"></span></a>D. Adjusting the Algorithm Parameters</h2><p>如前所述，有些參數需要離線調整才能優化結果（<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-65-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>F</mi><mi>I</mi><mi>R</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-875" style="width: 2.373em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.05em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1002.05em, 2.535em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-876"><span class="mi" id="MathJax-Span-877" style="font-family: MathJax_Math-italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.11em;"></span></span><span class="mi" id="MathJax-Span-878" style="font-family: MathJax_Math-italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mi" id="MathJax-Span-879" style="font-family: MathJax_Math-italic;">R</span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>F</mi><mi>I</mi><mi>R</mi></math></span></span><script type="math/tex" id="MathJax-Element-65">FIR</script></span>濾波器參數：截止頻率和階數）或更改波峰檢測（<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-66-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>R</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>f</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-880" style="width: 3.289em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.804em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1002.8em, 2.858em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-881"><span class="msubsup" id="MathJax-Span-882"><span style="display: inline-block; position: relative; width: 2.804em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-883" style="font-family: MathJax_Math-italic;">R</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.757em;"><span class="texatom" id="MathJax-Span-884"><span class="mrow" id="MathJax-Span-885"><span class="mi" id="MathJax-Span-886" style="font-size: 70.7%; font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mi" id="MathJax-Span-887" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-888" style="font-size: 70.7%; font-family: MathJax_Math-italic;">c</span><span class="mi" id="MathJax-Span-889" style="font-size: 70.7%; font-family: MathJax_Math-italic;">t</span><span class="mi" id="MathJax-Span-890" style="font-size: 70.7%; font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-891" style="font-size: 70.7%; font-family: MathJax_Math-italic;">r</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.253em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>R</mi><mrow class="MJX-TeXAtom-ORD"><mi>f</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-66">R_{factor}</script></span>、<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-67-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>f</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-892" style="width: 3.128em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.697em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1002.7em, 2.858em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-893"><span class="msubsup" id="MathJax-Span-894"><span style="display: inline-block; position: relative; width: 2.697em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-895" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.11em;"></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.649em;"><span class="texatom" id="MathJax-Span-896"><span class="mrow" id="MathJax-Span-897"><span class="mi" id="MathJax-Span-898" style="font-size: 70.7%; font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mi" id="MathJax-Span-899" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-900" style="font-size: 70.7%; font-family: MathJax_Math-italic;">c</span><span class="mi" id="MathJax-Span-901" style="font-size: 70.7%; font-family: MathJax_Math-italic;">t</span><span class="mi" id="MathJax-Span-902" style="font-size: 70.7%; font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-903" style="font-size: 70.7%; font-family: MathJax_Math-italic;">r</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.253em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>f</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-67">P_{factor}</script></span>和<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-68-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>T</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>f</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-904" style="width: 3.074em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.643em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1002.64em, 2.858em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-905"><span class="msubsup" id="MathJax-Span-906"><span style="display: inline-block; position: relative; width: 2.643em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.7em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-907" style="font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.11em;"></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.595em;"><span class="texatom" id="MathJax-Span-908"><span class="mrow" id="MathJax-Span-909"><span class="mi" id="MathJax-Span-910" style="font-size: 70.7%; font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mi" id="MathJax-Span-911" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-912" style="font-size: 70.7%; font-family: MathJax_Math-italic;">c</span><span class="mi" id="MathJax-Span-913" style="font-size: 70.7%; font-family: MathJax_Math-italic;">t</span><span class="mi" id="MathJax-Span-914" style="font-size: 70.7%; font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-915" style="font-size: 70.7%; font-family: MathJax_Math-italic;">r</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.253em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mrow class="MJX-TeXAtom-ORD"><mi>f</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-68">T_{factor}</script></span>）的行為。為了研究這些參數如何影響性能，在QT數據庫劃分過程中，已經研究過以前引入的品質標準。</p><p><img src="https://i.imgur.com/rBVQFGs.png" alt=""></p><p>Fig.10（a）選擇了峰值模塊算法中用於計算一階和二階導數並檢測波峰的FIR濾波器的截止頻率。可以看出，如果頻率低於10Hz，靈敏度很高，但PPV較低。隨著頻率的增加，靈敏度在15Hz之後開始下降，而PPV總是增加。考慮到標準偏差，最佳結果涉及這兩個值之間的良好折衷，因此截止頻率的最佳最終選擇是14Hz，其中靈敏度和PPV是最高的，同時保持良好的值為標準偏差。</p><p>對於<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-69-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>L</mi><mi>P</mi><mn>14</mn></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-916" style="width: 4.744em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.098em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1004.1em, 2.697em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-917"><span class="mi" id="MathJax-Span-918" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-919" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-920"><span style="display: inline-block; position: relative; width: 2.589em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-921" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-922"><span class="mrow" id="MathJax-Span-923"><span class="mi" id="MathJax-Span-924" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mi" id="MathJax-Span-925" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mn" id="MathJax-Span-926" style="font-size: 70.7%; font-family: MathJax_Main;">14</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>L</mi><mi>P</mi><mn>14</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-69">ECG_{LP14}</script></span>和<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-70-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-927" style="width: 4.744em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.098em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1004.1em, 2.697em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-928"><span class="mi" id="MathJax-Span-929" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-930" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-931"><span style="display: inline-block; position: relative; width: 2.589em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-932" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-933"><span class="mrow" id="MathJax-Span-934"><span class="mi" id="MathJax-Span-935" style="font-size: 70.7%; font-family: MathJax_Math-italic;">L</span><span class="mi" id="MathJax-Span-936" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mn" id="MathJax-Span-937" style="font-size: 70.7%; font-family: MathJax_Main;">40</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>L</mi><mi>P</mi><mn>40</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-70">ECG_{LP40}</script></span>，濾波器階數從10到40呈現最佳結果：Order-40顯示更好的劃分準確性，但也比Order-10更消耗的CPU運算效能。</p><p>可用於控制QRS波峰檢測的另一個參數是<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-71-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>R</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>f</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-938" style="width: 3.289em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.804em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1002.8em, 2.858em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-939"><span class="msubsup" id="MathJax-Span-940"><span style="display: inline-block; position: relative; width: 2.804em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-941" style="font-family: MathJax_Math-italic;">R</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.757em;"><span class="texatom" id="MathJax-Span-942"><span class="mrow" id="MathJax-Span-943"><span class="mi" id="MathJax-Span-944" style="font-size: 70.7%; font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mi" id="MathJax-Span-945" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-946" style="font-size: 70.7%; font-family: MathJax_Math-italic;">c</span><span class="mi" id="MathJax-Span-947" style="font-size: 70.7%; font-family: MathJax_Math-italic;">t</span><span class="mi" id="MathJax-Span-948" style="font-size: 70.7%; font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-949" style="font-size: 70.7%; font-family: MathJax_Math-italic;">r</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.253em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>R</mi><mrow class="MJX-TeXAtom-ORD"><mi>f</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-71">R_{factor}</script></span>，其範圍從0到1。如Fig.10（b）所示，如果此係數較高（約為0.7或0.8），則假陰性由於檢測到較少的QRS峰值，檢測結果會增加，而假陽性檢測結果會減少。這種情況涉及更差的靈敏度，但PPV更好。另一方面，低Rf參與者（約0.1或0.2）導致更高的靈敏度和更低的PPV。最後，分析結果，Rf參與者被選為0.33，因為靈敏度和PPV是平均的，平均誤差的標準偏差很小。該參數可用於根據用例對算法進行微調，具體取決於系統是想要最大化靈敏度還是積極預測性，以及因此比率還是假陽性和假陰性檢測。</p><p>同樣的推理可以應用於選擇<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-72-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>f</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-950" style="width: 3.128em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.697em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1002.7em, 2.858em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-951"><span class="msubsup" id="MathJax-Span-952"><span style="display: inline-block; position: relative; width: 2.697em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-953" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.11em;"></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.649em;"><span class="texatom" id="MathJax-Span-954"><span class="mrow" id="MathJax-Span-955"><span class="mi" id="MathJax-Span-956" style="font-size: 70.7%; font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mi" id="MathJax-Span-957" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-958" style="font-size: 70.7%; font-family: MathJax_Math-italic;">c</span><span class="mi" id="MathJax-Span-959" style="font-size: 70.7%; font-family: MathJax_Math-italic;">t</span><span class="mi" id="MathJax-Span-960" style="font-size: 70.7%; font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-961" style="font-size: 70.7%; font-family: MathJax_Math-italic;">r</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.253em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>f</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-72">P_{factor}</script></span>和<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-73-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>T</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>f</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-962" style="width: 3.074em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.643em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1002.64em, 2.858em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-963"><span class="msubsup" id="MathJax-Span-964"><span style="display: inline-block; position: relative; width: 2.643em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.7em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-965" style="font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.11em;"></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.595em;"><span class="texatom" id="MathJax-Span-966"><span class="mrow" id="MathJax-Span-967"><span class="mi" id="MathJax-Span-968" style="font-size: 70.7%; font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mi" id="MathJax-Span-969" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-970" style="font-size: 70.7%; font-family: MathJax_Math-italic;">c</span><span class="mi" id="MathJax-Span-971" style="font-size: 70.7%; font-family: MathJax_Math-italic;">t</span><span class="mi" id="MathJax-Span-972" style="font-size: 70.7%; font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-973" style="font-size: 70.7%; font-family: MathJax_Math-italic;">r</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.253em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mrow class="MJX-TeXAtom-ORD"><mi>f</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-73">T_{factor}</script></span>，它們分別檢測P（Fig.10（c））和T波（Fig.10（d））的峰值。在本文中，兩個係數都被選擇為0.01，這使得對於標準偏差具有高靈敏度和良好的值。</p><h2 id="E-Computational-Cost-Versus-Accuracy-Tradeoff"><a class="anchor hidden-xs" href="#E-Computational-Cost-Versus-Accuracy-Tradeoff" title="E-Computational-Cost-Versus-Accuracy-Tradeoff"><span class="octicon octicon-link"></span></a>E. Computational Cost Versus Accuracy Tradeoff</h2><p>如前所述，該算法在取樣率為250Hz和40階FIR濾波器的情況下呈現出最佳結果，見表1.在此模式中，在以下部分中將以高精度模式表示，所提出的演算法與現存的在其他演算法（如[21]）的準確性和CPU消耗方面也有類似的結果。所提出的技術相對於先前工作的主要優點是其以不同模式操作的能力，其可以在運行時動態地選擇，這取決於必須檢測哪些ECG基準點以及檢測必須有多精確，並且因此大幅降低CPU使用率。</p><p><img src="https://i.imgur.com/ocgAavQ.png" alt=""></p><p>表II顯示了劃定算法的可能模式，表示為：高精度，標準，低功耗和超低功耗模式。在標準模式和高精度模式下，該算法能夠檢測心跳（QRS波峰和HR）或執行完整劃分（QRS波，P波和T波），而在低功耗和超低功耗模式，採樣率降低到50 Hz，只有心跳被檢測到，這將在後面解釋。</p><p><img src="https://i.imgur.com/yaZN8MK.png" alt=""></p><p>Fig.11呈現了組合先前劃分的模式的可能的系統配置，表示為自適應模式。過渡是基於HR的穩定性，並考慮患者是否已被診斷為病理。當前HR（最後2個QRS波峰的最後一個HR值）在最後n次心跳期間的平均HR的75％和125％之間時，我們定義了一個規則HR。在超低功耗模式下，不連續取樣和連續取樣之間的轉換基於最近5次心跳期間HR的穩定性。從超低功耗模式到標準模式或高精度模式的轉換基於HR的相同穩定性條件進行，但是使用最後的10個心跳，如果患者先前已知病理，則轉向高精度模式，或者如果不是，則轉向標準。當HR在最後30次心跳中穩定時，系統返回到超低功耗模式。這種情況是一種說明算法可以實時改變模式的方式，而我們對這些值的選擇只是一個可能的實例。</p><p>劃分算法可以實時自動切換模式，這要歸功於：<br>
（1）所有濾波器都很容易適應取樣率<br>
（2）演算法模式的模塊性。</p><h4 id="1-The-Delineation-Algorithm-is-Easily-Adaptable-to-the-Sampling-Rate"><a class="anchor hidden-xs" href="#1-The-Delineation-Algorithm-is-Easily-Adaptable-to-the-Sampling-Rate" title="1-The-Delineation-Algorithm-is-Easily-Adaptable-to-the-Sampling-Rate"><span class="octicon octicon-link"></span></a>1) The Delineation Algorithm is Easily Adaptable to the Sampling Rate</h4><p>演算法中與頻率相關的部分僅僅是FIR濾波器和形態濾波器。這意味著如果ECG取樣率發生變化，這些部分必須進行修改，然而，適應性很簡單。 FIR濾波器係數必需根據Nyquist頻率進行調整以保持濾波器截止頻率，形態學操作必須修改它們的窗口長度，因為它們是時域定義的，但該算法保持不變。</p><h4 id="2-The-Delineation-Algorithm-Is-Modular"><a class="anchor hidden-xs" href="#2-The-Delineation-Algorithm-Is-Modular" title="2-The-Delineation-Algorithm-Is-Modular"><span class="octicon octicon-link"></span></a>2) The Delineation Algorithm Is Modular</h4><p>與其他技術如小波[5]，[21]相比，這種模塊化（Fig.3）使得該算法更加靈活和自適應。如果心髒病發作異常，則需要完整的描述。但是，可能有一些患者我們只需要關於參數的信息，例如:HR），因此不需要進行全面劃分。當需要進行全面劃分時，為了實時提取關於該事件的所有可能信息（P波，T波和QRS波群的峰，起點和終點）可以選擇高精度和標準模式。當不需要全面描述時，可以使用低功耗和超低功耗模式。由於所提出的方法的模塊化，該算法可以執行選定的描繪，其中系統決定哪些ECG波必須被劃定並且哪些基準點被檢測到。其餘時間，可以執行減少的描繪（即，使用低/超低功率功率模式的QRS峰值檢測），從而減少描繪的計算負荷，並因此更有效地使用能量。</p><h1 id="III實驗結果"><a class="anchor hidden-xs" href="#III實驗結果" title="III實驗結果"><span class="octicon octicon-link"></span></a>III.實驗結果</h1><p>在本節中，將劃定演算法與使用QT數據庫的其他技術進行比較。描述MIT-BIH心律失常數據庫以顯示該算法如何與另一個真實心電圖數據庫一起工作，具有噪聲和不同的採樣率。此外，在真實情況下使用Shimmer節點進行了真實測試，取樣頻率為1kHz和5kHz。獲得的結果令人滿意，但未納入論文中，因為它們未經心藏病專家驗證。最後，使用Shimmer平台的模擬器，根據計算負擔，存儲器佔用空間和估計的功耗以及對算法複雜度的評估，描述劃分算法的分析結果。</p><h2 id="A-Comparison-With-Other-Methods"><a class="anchor hidden-xs" href="#A-Comparison-With-Other-Methods" title="A-Comparison-With-Other-Methods"><span class="octicon octicon-link"></span></a>A. Comparison With Other Methods</h2><p>表III顯示了由所提出的和其他現代技術（例如小波或相量變換）劃分QT數據庫所獲得的結果。應該注意的是，由於與自動和手動註釋相匹配的時間窗口對於每個作品而言是不同的，所以比較並不完全準確。在[34]中，時間窗口的長度是150ms，在[21]中是320ms，在[5]和[7]中沒有報告此信息。如果間隔較大，則靈敏度，PPV和標準偏差較高。為了公平和接近其他報告結果，此比較表中選定的時間窗口為200ms。</p><p><img src="https://i.imgur.com/EsI90nI.png" alt=""></p><p>表III報告了以250 Hz可行的演算法模式的結果：高精度模式和標準模式。結果表明，前者表現出比後者更好的準確性，但對於這兩種模式，除了上述P波起點外，靈敏度，PPV和標準偏差都在CSE委員會容限內。</p><p>可以看出，靈敏度的值與其他值非常相似，儘管事實上這個值與選擇的時間間隔直接相關，以接受或丟棄劃定的點為有效的。特別是，這項工作獲得的PPV高於P波的其他技術，T波結束時更低，這表明很難劃定這一點。對於平均誤差的標準偏差來說，這是最重要的參數，因為它說明了誤差的分散性，結果與CSE一致，並且表明所提出的算法可以描繪心電圖基準點，如開始和結束QRS波群，或P波的峰值和終點，其分佈比其他更複雜的技術更少。</p><h2 id="B-MIT-BIH-Arrhythmia-Database"><a class="anchor hidden-xs" href="#B-MIT-BIH-Arrhythmia-Database" title="B-MIT-BIH-Arrhythmia-Database"><span class="octicon octicon-link"></span></a>B. MIT-BIH Arrhythmia Database</h2><p>除了QT數據庫的描述外，為了用其他真實心電圖信號評估算法的性能，MIT-BIH心律失常數據庫[31,38]已被描述。該數據庫由48〜30分鐘的2通道動態心電圖記錄摘錄組成，具有註釋節拍並以360Hz採樣。</p><p>所有的現存資料（共計112646次）已被該演算法劃分，並且對用於劃分MIT-BIH數據庫而不是QT數據庫的算法參數的唯一改變是2個FIR的係數的數值根據Nyquist頻率，將採樣率從250Hz調整到360Hz的截止頻率。算法參數的其餘部分保持不變。</p><p>為了顯示算法在心率檢測中的性能，並將<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-74-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>Q</mi><mi>R</mi><msub><mi>S</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>f</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-974" style="width: 4.96em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.259em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1004.26em, 2.858em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-975"><span class="mi" id="MathJax-Span-976" style="font-family: MathJax_Math-italic;">Q</span><span class="mi" id="MathJax-Span-977" style="font-family: MathJax_Math-italic;">R</span><span class="msubsup" id="MathJax-Span-978"><span style="display: inline-block; position: relative; width: 2.697em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.65em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-979" style="font-family: MathJax_Math-italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.595em;"><span class="texatom" id="MathJax-Span-980"><span class="mrow" id="MathJax-Span-981"><span class="mi" id="MathJax-Span-982" style="font-size: 70.7%; font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mi" id="MathJax-Span-983" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-984" style="font-size: 70.7%; font-family: MathJax_Math-italic;">c</span><span class="mi" id="MathJax-Span-985" style="font-size: 70.7%; font-family: MathJax_Math-italic;">t</span><span class="mi" id="MathJax-Span-986" style="font-size: 70.7%; font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-987" style="font-size: 70.7%; font-family: MathJax_Math-italic;">r</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.316em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>Q</mi><mi>R</mi><msub><mi>S</mi><mrow class="MJX-TeXAtom-ORD"><mi>f</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-74">QRS_{factor}</script></span>的選擇理論化為0.33（QT數據庫描繪所獲得的參數）作為該閾值的最佳值，MIT-BIH數據庫被描述為<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-75-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>Q</mi><mi>R</mi><msub><mi>S</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>f</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-988" style="width: 4.96em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.259em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1004.26em, 2.858em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-989"><span class="mi" id="MathJax-Span-990" style="font-family: MathJax_Math-italic;">Q</span><span class="mi" id="MathJax-Span-991" style="font-family: MathJax_Math-italic;">R</span><span class="msubsup" id="MathJax-Span-992"><span style="display: inline-block; position: relative; width: 2.697em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.65em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-993" style="font-family: MathJax_Math-italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.595em;"><span class="texatom" id="MathJax-Span-994"><span class="mrow" id="MathJax-Span-995"><span class="mi" id="MathJax-Span-996" style="font-size: 70.7%; font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mi" id="MathJax-Span-997" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-998" style="font-size: 70.7%; font-family: MathJax_Math-italic;">c</span><span class="mi" id="MathJax-Span-999" style="font-size: 70.7%; font-family: MathJax_Math-italic;">t</span><span class="mi" id="MathJax-Span-1000" style="font-size: 70.7%; font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-1001" style="font-size: 70.7%; font-family: MathJax_Math-italic;">r</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.316em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>Q</mi><mi>R</mi><msub><mi>S</mi><mrow class="MJX-TeXAtom-ORD"><mi>f</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-75">QRS_{factor}</script></span>範圍廣泛（請注意，<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-76-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>Q</mi><mi>R</mi><msub><mi>S</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>f</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1002" style="width: 4.96em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.259em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1004.26em, 2.858em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-1003"><span class="mi" id="MathJax-Span-1004" style="font-family: MathJax_Math-italic;">Q</span><span class="mi" id="MathJax-Span-1005" style="font-family: MathJax_Math-italic;">R</span><span class="msubsup" id="MathJax-Span-1006"><span style="display: inline-block; position: relative; width: 2.697em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.65em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-1007" style="font-family: MathJax_Math-italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.595em;"><span class="texatom" id="MathJax-Span-1008"><span class="mrow" id="MathJax-Span-1009"><span class="mi" id="MathJax-Span-1010" style="font-size: 70.7%; font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mi" id="MathJax-Span-1011" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-1012" style="font-size: 70.7%; font-family: MathJax_Math-italic;">c</span><span class="mi" id="MathJax-Span-1013" style="font-size: 70.7%; font-family: MathJax_Math-italic;">t</span><span class="mi" id="MathJax-Span-1014" style="font-size: 70.7%; font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-1015" style="font-size: 70.7%; font-family: MathJax_Math-italic;">r</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.316em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>Q</mi><mi>R</mi><msub><mi>S</mi><mrow class="MJX-TeXAtom-ORD"><mi>f</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-76">QRS_{factor}</script></span>的範圍從0到1）。結果（根據靈敏度，PPV，平均誤差和平均誤差的標準差）如Fig.12所示。</p><p><img src="https://i.imgur.com/vbdxk3V.png" alt=""></p><p>可以看出，<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-77-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>Q</mi><mi>R</mi><msub><mi>S</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>f</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1016" style="width: 4.96em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.259em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1004.26em, 2.858em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-1017"><span class="mi" id="MathJax-Span-1018" style="font-family: MathJax_Math-italic;">Q</span><span class="mi" id="MathJax-Span-1019" style="font-family: MathJax_Math-italic;">R</span><span class="msubsup" id="MathJax-Span-1020"><span style="display: inline-block; position: relative; width: 2.697em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.65em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-1021" style="font-family: MathJax_Math-italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.595em;"><span class="texatom" id="MathJax-Span-1022"><span class="mrow" id="MathJax-Span-1023"><span class="mi" id="MathJax-Span-1024" style="font-size: 70.7%; font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mi" id="MathJax-Span-1025" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-1026" style="font-size: 70.7%; font-family: MathJax_Math-italic;">c</span><span class="mi" id="MathJax-Span-1027" style="font-size: 70.7%; font-family: MathJax_Math-italic;">t</span><span class="mi" id="MathJax-Span-1028" style="font-size: 70.7%; font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-1029" style="font-size: 70.7%; font-family: MathJax_Math-italic;">r</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.316em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>Q</mi><mi>R</mi><msub><mi>S</mi><mrow class="MJX-TeXAtom-ORD"><mi>f</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-77">QRS_{factor}</script></span>的任何值介於0.15和0.65之間都呈現類似且穩定的結果。低於0.15時，PPV會顯著下降，因為檢測到更多的假陽性，另一方面，高於0.6的值會降低靈敏度（假陰性更多）。至於QT數據庫的描述，0.33被證明是MIT-BIH數據庫的最佳值（幾乎98％的靈敏度和接近100％的PPV）。無論如何，這個閾值可以在這個範圍內稍作修改，以便在檢測中獲得更好的靈敏度或更好的PPV。</p><h3 id="1-Noise"><a class="anchor hidden-xs" href="#1-Noise" title="1-Noise"><span class="octicon octicon-link"></span></a>1) Noise</h3><p>為了評估在雜訊條件（不同類型和強度的雜訊）下演算法的性能，MIT-BIH雜訊壓力測試數據庫[31]，[39]中的記錄108已被描述。該記錄包含2301個註釋心跳，並且原始ECG與具有不同信噪比（SNR）的不同類型的噪聲混合：從24dB（其中ECG信號是乾淨的）到-6dB，其中ECG是強烈的受基線漂移，肌肉電流干擾和電極運動人為干擾的影響。</p><p><img src="https://i.imgur.com/BEUKmUw.png" alt=""></p><p>表IV顯示了針對具有不同類型的SNR的相同ECG信號的差拍檢測中的演算法結果。可以看出，對於12dB和更高的部分，演算法保持良好的拍頻檢測率，而對於相同但雜訊較高的信號（低於12dB），靈敏度保持不變，但PPV衰減，這意味著由於雜訊導致誤報的增加。</p><h2 id="C-Estimated-Number-of-Arithmetic-Operations"><a class="anchor hidden-xs" href="#C-Estimated-Number-of-Arithmetic-Operations" title="C-Estimated-Number-of-Arithmetic-Operations"><span class="octicon octicon-link"></span></a>C. Estimated Number of Arithmetic Operations</h2><p>該演算法分為三個主要任務：FIR濾波，形態學濾波和ECG基準點的描繪。如下一節所示，約90％的計算時間用於FIR（50％）和形態學（40％）濾波。這兩部分是計算量最大的部分，其操作次數大致表明了算法的複雜性[40]，因為ECG點的劃分主要需要比較，並且意味著計算時間的10％。</p><h3 id="1-FIR-Filtering"><a class="anchor hidden-xs" href="#1-FIR-Filtering" title="1-FIR-Filtering"><span class="octicon octicon-link"></span></a>1) FIR Filtering</h3><p>如下所述，這部分需要對每個新ECG樣本進行8N + 2次操作，其中N表示濾波器階數。當新的ECG取樣到達時，輸入取樣緩衝器需要N次旋轉和N次增量;對於卷積運算，N個加法，N / 2 + 1個乘法和N-1個索引增量;最後是1個分區（如果平台不支持分區，可以使用係數量化來避免分區，如下一節所述）。由於2個FIR濾波器可共享輸入採樣緩衝器，因此每個新ECG採樣的FIR濾波器所需的操作次數為8N + 2。例如，使用40階濾波器（如高精度模式）可導致40次旋轉，158個增量，80個增量，82個乘法和2個分區（總共322個操作）。</p><h3 id="2-Morphological-Filtering"><a class="anchor hidden-xs" href="#2-Morphological-Filtering" title="2-Morphological-Filtering"><span class="octicon octicon-link"></span></a>2) Morphological Filtering</h3><p>這個階段需要比較以找出總共8個緩衝區（<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-78-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1030" style="width: 4.313em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.72em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1003.72em, 2.697em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-1031"><span class="mi" id="MathJax-Span-1032" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1033" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-1034"><span style="display: inline-block; position: relative; width: 2.212em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-1035" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-1036"><span class="mrow" id="MathJax-Span-1037"><span class="mi" id="MathJax-Span-1038" style="font-size: 70.7%; font-family: MathJax_Math-italic;">b</span><span class="mi" id="MathJax-Span-1039" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-1040" style="font-size: 70.7%; font-family: MathJax_Math-italic;">s</span><span class="mi" id="MathJax-Span-1041" style="font-size: 70.7%; font-family: MathJax_Math-italic;">e</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-78">ECG_{base}</script></span> 4個，$P_{base}<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-79-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>2</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x500B;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1042" style="width: 2.589em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.212em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.404em, 1002.21em, 2.751em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-1043"><span class="mn" id="MathJax-Span-1044" style="font-family: MathJax_Main;">2</span><span class="texatom" id="MathJax-Span-1045"><span class="mrow" id="MathJax-Span-1046"><span class="mo" id="MathJax-Span-1047"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 86%; font-style: normal; font-weight: normal;">個</span></span></span></span><span class="texatom" id="MathJax-Span-1048"><span class="mrow" id="MathJax-Span-1049"><span class="mo" id="MathJax-Span-1050"><span style="font-family: STIXGeneral, &quot;Arial Unicode MS&quot;, serif; font-size: 86%; font-style: normal; font-weight: normal;">，</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.316em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn><mrow class="MJX-TeXAtom-ORD"><mo>個</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-79">2個，</script></span>T_{base}$2個）的每個新ECG樣本的最大值或最小值，這意味著每個緩衝區的1個比較或L個比較（其中L是長度在時域中定義的緩衝區）取決於每種情況。每個緩衝區都有一個子最大值列表，用於加速該過程，因此在大多數情況下，不需要全窗口搜索。這意味著，如果最大/最小值位於緩衝區中，並且在新的ECG採樣到達時不會改變，則只需要進行1次比較。偶爾，最大/最小值必須在緩衝區內搜索，因為其位置已被新的ECG樣本覆蓋，所以在最壞的情況下，必須再次進行L比較。</p><p>假設採樣率為250Hz，則為<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-80-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1051" style="width: 4.313em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.72em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1003.72em, 2.697em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-1052"><span class="mi" id="MathJax-Span-1053" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-1054" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="msubsup" id="MathJax-Span-1055"><span style="display: inline-block; position: relative; width: 2.212em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-1056" style="font-family: MathJax_Math-italic;">G</span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.811em;"><span class="texatom" id="MathJax-Span-1057"><span class="mrow" id="MathJax-Span-1058"><span class="mi" id="MathJax-Span-1059" style="font-size: 70.7%; font-family: MathJax_Math-italic;">b</span><span class="mi" id="MathJax-Span-1060" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-1061" style="font-size: 70.7%; font-family: MathJax_Math-italic;">s</span><span class="mi" id="MathJax-Span-1062" style="font-size: 70.7%; font-family: MathJax_Math-italic;">e</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mi>C</mi><msub><mi>G</mi><mrow class="MJX-TeXAtom-ORD"><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-80">ECG_{base}</script></span>提供2個開放緩衝區（長度為49）和2個關閉緩衝區（長度為75）; 2個開放緩衝區（長度29）用於<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-81-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1063" style="width: 2.373em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.05em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1002.05em, 2.697em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-1064"><span class="msubsup" id="MathJax-Span-1065"><span style="display: inline-block; position: relative; width: 2.05em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.76em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-1066" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.11em;"></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.649em;"><span class="texatom" id="MathJax-Span-1067"><span class="mrow" id="MathJax-Span-1068"><span class="mi" id="MathJax-Span-1069" style="font-size: 70.7%; font-family: MathJax_Math-italic;">b</span><span class="mi" id="MathJax-Span-1070" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-1071" style="font-size: 70.7%; font-family: MathJax_Math-italic;">s</span><span class="mi" id="MathJax-Span-1072" style="font-size: 70.7%; font-family: MathJax_Math-italic;">e</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-81">P_{base}</script></span>;和2個打開緩衝區（長度63）<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-82-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>T</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi></mrow></msub></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1073" style="width: 2.32em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.996em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1002em, 2.697em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-1074"><span class="msubsup" id="MathJax-Span-1075"><span style="display: inline-block; position: relative; width: 1.996em; height: 0px;"><span style="position: absolute; clip: rect(3.128em, 1000.7em, 4.151em, -999.997em); top: -3.984em; left: 0em;"><span class="mi" id="MathJax-Span-1076" style="font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.11em;"></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span><span style="position: absolute; top: -3.823em; left: 0.595em;"><span class="texatom" id="MathJax-Span-1077"><span class="mrow" id="MathJax-Span-1078"><span class="mi" id="MathJax-Span-1079" style="font-size: 70.7%; font-family: MathJax_Math-italic;">b</span><span class="mi" id="MathJax-Span-1080" style="font-size: 70.7%; font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-1081" style="font-size: 70.7%; font-family: MathJax_Math-italic;">s</span><span class="mi" id="MathJax-Span-1082" style="font-size: 70.7%; font-family: MathJax_Math-italic;">e</span></span></span><span style="display: inline-block; width: 0px; height: 3.99em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.066em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mrow class="MJX-TeXAtom-ORD"><mi>b</mi><mi>a</mi><mi>s</mi><mi>e</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-82">T_{base}</script></span>。在最好的情況下，對於大多數新樣本都會發生這種情況，只需要8次比較，因為所有最大/最小值都位於每個緩衝區中最大/最小值的位置在新樣本到達時不會被覆蓋，因此會沒有必要進行新的搜索）和4個額外的緩衝區指數比較（總共12個比較）。在最壞的情況下，頻率較低，其中所有緩衝區中必須找到所有最大/最小值，因此需要432次比較和4次額外的緩衝區索引比較，以及由迭代程序引起的432次索引增量（總共868次操作）。</p><h2 id="D-Real-Time-Simulation"><a class="anchor hidden-xs" href="#D-Real-Time-Simulation" title="D-Real-Time-Simulation"><span class="octicon octicon-link"></span></a>D. Real-Time Simulation</h2><p>所提出的演算法也已經被用C語言編寫的，並用於商業WBSN設備：ShimmerTM 3平台[41]來分析算法的實際計算負擔和內存佔用。</p><p>Shimmer節點是電池供電的無線傳感器節點，配備超低功耗微控制器，TI MSP430F5437A（16位RISC架構，工作頻率高達25MHz、16kBRAM和256kB閃存）以及適用於ECG應用的完整低功耗集成模擬前端TI ADS1292。使用的仿真器是MSPSim [42]，MSPSim是MSP430系列微處理器的基於Java的指令級仿真器。由於模擬器不提供對Shimmer節點的支援，因此我們基於Moteiv（Tmote Sky）實施了具有兩個串行端口的修改：USART0作為輸入端口，輸入ECG信號，USART1作為輸出端口，帶有一個心跳被劃定時的劃定點。</p><p><img src="https://i.imgur.com/C0kvPwZ.png" alt=""></p><p>QT數據庫的15分鐘ECG信號段已被用於分析不同的模式。<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-83-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>T</mi><mi>a</mi><mi>b</mi><mi>l</mi><mi>e</mi><mi>V</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1083" style="width: 3.666em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.128em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1003.13em, 2.535em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-1084"><span class="mi" id="MathJax-Span-1085" style="font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.11em;"></span></span><span class="mi" id="MathJax-Span-1086" style="font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-1087" style="font-family: MathJax_Math-italic;">b</span><span class="mi" id="MathJax-Span-1088" style="font-family: MathJax_Math-italic;">l</span><span class="mi" id="MathJax-Span-1089" style="font-family: MathJax_Math-italic;">e</span><span class="mi" id="MathJax-Span-1090" style="font-family: MathJax_Math-italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.164em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi><mi>a</mi><mi>b</mi><mi>l</mi><mi>e</mi><mi>V</mi></math></span></span><script type="math/tex" id="MathJax-Element-83">Table V</script></span>顯示了對於<span class="mathjax"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-84-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>T</mi><mi>a</mi><mi>b</mi><mi>l</mi><mi>e</mi><mi>I</mi><mi>I</mi></math>" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1091" style="width: 3.936em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.397em; height: 0px; font-size: 116%;"><span style="position: absolute; clip: rect(1.511em, 1003.4em, 2.535em, -999.997em); top: -2.368em; left: 0em;"><span class="mrow" id="MathJax-Span-1092"><span class="mi" id="MathJax-Span-1093" style="font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.11em;"></span></span><span class="mi" id="MathJax-Span-1094" style="font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-1095" style="font-family: MathJax_Math-italic;">b</span><span class="mi" id="MathJax-Span-1096" style="font-family: MathJax_Math-italic;">l</span><span class="mi" id="MathJax-Span-1097" style="font-family: MathJax_Math-italic;">e</span><span class="mi" id="MathJax-Span-1098" style="font-family: MathJax_Math-italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mi" id="MathJax-Span-1099" style="font-family: MathJax_Math-italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.373em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi><mi>a</mi><mi>b</mi><mi>l</mi><mi>e</mi><mi>I</mi><mi>I</mi></math></span></span><script type="math/tex" id="MathJax-Element-84">Table II</script></span>中定義的不同演算法模式的Shimmer節點的模擬器中使用的計算負擔和記憶體佔用情況以及評估節點的功耗和壽命，以及預估電量耗損及從ADS1298取得信號和MSP430F5437A運算處理的能量耗損並假設使用3.7V、450mAh的電池。實際上，由於其他模塊（例如無線電模塊），功耗會更高，但是這裡所分析的僅僅是由於執行該算法而導致的CPU消耗。</p><p>對於標準和高精度模式，為計算負擔，RAM和閃存提供了兩個不同的值。最低值屬於單個QRS峰值檢測，算法的On-end模塊被禁用，最高值對應於完整描繪。這些模式可以在算法模塊的不同組合範圍內工作的範圍的上限和下限。</p><p>如今，便攜式電子設備的功耗是需要考慮的重要事項，因為它們在有限的電池供電下工作。因此，延長這些設備的電池壽命在許多情況下是至關重要的。在高精度模式下，完整描繪的平均計算負擔為8.5％，這意味著該算法每個新採樣需要平均2733個週期，因為採樣率為250 Hz，微控制器在採樣採集之間有32000個可用周期。所使用的存儲器佔用空間是9 kB的閃存和9 kB的RAM。</p><p>計算負擔分為三個主要任務：FIR濾波為50％，形態濾波為40％，其餘部分為10％。因此，信號濾波（FIR和形態濾波器）是最耗時的過程，並且為了優化結果而進行了仔細研究。</p><p>FIR濾波器級已經使用濾波器係數的對稱准則進行了優化，並減少了同時實現兩個FIR濾波器的閃存訪問。為減少MSP430的執行時間，已經完成了兩項主要優化。首先，這種低功耗MCU必須避免浮點運算。 FIR濾波的一個好的解決方案是係數量化，它包括將浮點係數轉換為整數係數，將每個係數bi乘以2的冪並舍入（Bi = round（bi·2b））。必須考慮到，該操作引入了由ei，max = 2-b-1 [43]給出的誤差（輸出值與實際值之間的差值），並且該輸出信號被放大。在我們的例子中，係數已經乘以1024（b = 10），因此誤差由2-11 = 4.9·10-4給出，這是為了避免浮點算法的假設錯誤。</p><p>當FIR濾波器操作正在進行時，輸出比特增長，B≤log2？| Bi | [44]，必須考慮到，以避免溢出。乘法累加操作需要比輸入採樣字大小更大的字長以避免溢出。對於階數為40的濾波器，兩個濾波器（fc = 14 Hz和fc = 40 Hz）的位增長為B≤11位，因此如果輸入樣本為12位整數，則輸出所需的最大字長為23位，強制使用32位累加器。對於較小的訂單，位增長較小。由於MSP430F5437A的16位架構，乘法和加法對於32位操作數不是本地的，因此執行它們所需的指令數量會增加。專用於FIR濾波的計算負擔將通過使用32位微控制器而大大降低。<br>
When a FIR filter operation is being done, the output bit growth, B ≤ log2 |Bi | [44], must be taken into account in order to avoid overflows. The multiply-accumulate operation requires a bigger word size than the input samples word size to avoid overflow. For an order-40 filter, the bit growth of both filters (fc = 14 Hz and fc = 40 Hz) is B ≤ 11 bits, therefore if the input samples are 12-bit integer, the maximum word size necessary for the output is 23 bits, forcing to use a 32-bit accumulator. For smaller orders, the bit growth is smaller. Due to the 16-bit architecture of the MSP430F5437A, multiplications and additions are not native for 32-bit operands, in consequence, the number of instructions needed to perform them is incremented. The computational burden devoted to the FIR filtering would be strongly reduced using a 32-bit microcontroller.</p><p>如表5所示，由於該算法的模塊化特性，Shimmer3將消耗1145μW的功耗，以250 Hz採樣速率使用高精度模式完成描繪（由於CPU而需要475μW，因此需要670μW到ADS）以及765μW，僅使用標準模式（由於CPU為95μW，由於ADS導致為670μW）僅執行QRS峰檢測，實現節能33％，邊緣輪廓質量下降。<br>
As it can be seen in Table V and thanks to the modularity of the algorithm, the Shimmer3 would consume 1145 μW to perform a complete delineation at 250 Hz sampling rate using the High-accuracy mode (475 μW due to the CPU and 670 μW due to the ADS) and 765 μW to perform only QRS peaks detection using the Standard mode (95 μW due to the CPU and 670 μW due to the ADS), achieving 33% power saving with a marginal delineation quality degradation.</p><p>之前的小波方法工作[21]顯示出與使用相同平台的Highaccuracy模式相似的計算負擔和內存佔用，但是沒有適應不同場景的可能性，如果需要降低功耗。<br>
The previous wavelet approach work [21] showed similar computational burden and memory footprint than the Highaccuracy mode using the same platform, but without the possibility of being adaptive to different scenarios, reducing the power consumption if wanted.</p><p>該算法相對於其他技術已經提出的另一個特徵是該算法可以容易地適應不同的ECG採樣率。顯然，採樣率越高，計算負擔就越大，因為每秒接收更多的ECG採樣。如果採樣率增加了n倍（f * s≈n·fs），FIR濾波的計算負擔就乘以n，但每個採樣的操作次數和內存佔用量都不會改變。對於形態濾波器，每個新樣本的操作數量保持大致相同，並且內存佔用量也乘以n，因為所用緩衝區的大小直接取決於採樣率（該大小是時域定義的） 。<br>
The other feature already presented of this algorithm with respect to other techniques, is that this algorithm can be easily adapted to different ECG sampling rates. Obviously, the higher the sampling rate, the more the computational burden because more ECG samples are received per second. If the sampling rate is increased by a n factor (f∗ s ≈ n · fs ), the computational burden is multiplied by n for the FIR filtering, neither the number of operations per sample nor the memory footprint changes. For the morphological filters, the number of operations per new sample remains more or less the same and the memory footprint is also multiplied by n, because the size of the used buffers depends directly on the sampling rate (the size is time-domain defined).</p><p>超低功耗和低功耗模式在50 Hz ECG採樣率下工作。這涉及到低功耗模式下的計算負擔僅降低到0.4％，超低功耗模式下的計算負擔降低到0.2％，從而將Shimmer3的功耗降低到445μW（CPU的功耗為30μW，CPU的功耗為415μW） ADS）和315μW（由於CPU而分別為15μW和ADS引起的300μW）。在後一種情況下，ADS在73％的時間內保持睡眠模式，相對於高精度模式下的完整描繪，節能達到70％。<br>
The Ultra-low-power and Low-power modes work at 50 Hz ECG sampling rate. This involves that the computational burden is reduced to only 0.4% in the Low-power mode and 0.2% in the Ultra-low-power mode, reducing power consumption of the Shimmer3 to 445 μW (30 μWdue to the CPU and 415 μWdue to the ADS) and 315 μW (15 μW due to the CPU and 300 μW due to the ADS) respectively. In the latter case, the ADS remains in sleep-mode during 73% of the time achieving 70% of power saving with respect to a complete delineation in High-accuracy mode.</p><p>這樣，通過減少計算負擔，裝置的電池壽命顯著增加。例如。在健康患者中，可以定期使用超低功耗模式，而不存在心律失常。然而，如果檢測到任何心律失常，則可以切換到Highaccuracy模式完成描繪，以便在給定的時間內收集更多信息，該模式表示為自適應模式，參見圖11.描繪QT數據庫的結果在自適應模式下，顯示系統以87％的時間（61％不連續採樣和26％連續採樣）以及標准或高精度模式的13％時間在超低功耗模式下運行，並具有相關的平均功率消耗423μW。因此，如果僅對Shimmer3進行數據採集和样品處理，則係統的使用壽命為23.5週，當心率穩定時，患者將使用超低功耗模式進行監測，準確度模式。<br>
In this way, the battery life of devices is  remarkably increased by reducing the computational burden. For instance. in healthy patients, Ultra-low-power mode can be used regularly, while no arrhythmia is present. However, if any arrhythmia is detected, a complete delineation can be performed switching to Highaccuracy mode in order to collect more information during a given period of time, this mode is denoted as Adaptive mode, see Fig. 11. The results delineating the QT database in Adaptive mode show that the system runs in Ultra-low-power mode 87%of the time (61% Discontinuous sampling and 26% Continuous sampling) and the Standard or High-accuracy modes 13% of the time, with an associated mean power consumption of 423 μW. Therefore, if just data acquisition and sample processing are considered for the Shimmer3, the lifetime of the system would be 23.5 weeks, in which the patient will be monitored using an Ultra-low-power mode when heart rate is stable and with a High-accuracy mode otherwise.</p><h1 id="IV-總結"><a class="anchor hidden-xs" href="#IV-總結" title="IV-總結"><span class="octicon octicon-link"></span></a>IV. 總結</h1><p>在本文中，已經開發了一種新的簡單，模塊化和有效的算法，以描繪和定位不同ECG波的峰值和邊界，例如P波，QRS波群和T波，具有低計算成本和數學複雜度同時達到與其他更先進和計算密集的最先進技術相似或更好的準確性。該算法被設想為模塊化設計，其中峰模塊描繪ECG峰，計算侵略性的一階和二階導數低通濾波的信號，並且端部模塊檢測峰的起始和結束，<br>
In this paper, a new simple, modular and effective algorithm has been developed to delineate and locate the peaks and boundaries of the different ECG waves, such as the P wave, the QRS complex and the T wave, featuring low computational cost and mathematical complexity while achieving similar or better accuracy than other more advanced and computationally intensive state-of-the-art techniques.The algorithm is conceived as a modular design, in which the Peaks module delineates the ECG peaks, computing the first and second derivatives of an aggressive low-pass filtered signal, and the On-end module detects the onsets and ends of the peaks, using a less aggressive low-pass filter and morphological filters.</p><p>為了驗證所提出的算法的性能，已經描述了QT和MIT-BIH數據庫，並將結果與心髒病專家對這些數據庫所做的註釋進行了比較。結果顯示，當檢測到ECG波峰時，靈敏度高於98％，起始和終點時靈敏度高於96％，與較複雜的技術（例如小波或法瑟變換）相比，靈敏度更高，陽性預測值更高。<br>
To validate the performance of the proposed algorithm, the QT and MIT-BIH databases have been delineated and the results have been compared with annotations made by cardiologists for these databases. Results show sensitivity higher than 98% when detecting the ECG wave peaks and 96% for onsets and ends, and better positive predictive value in contrast to more complex techniques as, for example,wavelets or fasor ransform.</p><p>此外，除P波起始點外，所有基準點的劃分誤差均低於通用標準心電圖（CSE）委員會給出的容差，對於該誤差，該算法超出了約定的公差僅為其一小部分採樣時間。<br>
Moreover, the errors in the delineation of all the fiducial points are below the tolerances given by the Common Standards for Electrocardiography (CSE) committee, except for the P wave onset, for which the algorithm is above the agreed tolerances by only a fraction of the sample duration.</p><p>所提出的算法具有高度適應性和模塊化的優點。該系統能夠自動修改採樣率或者禁用算法的一些模塊，例如用於P或T波檢測器，或者根據是否需要完整描繪來檢測ECG波的起始和結束，因為異常心臟事件被檢測到，或者在剩下的時間內進行減少的描繪以節省能量。這種靈活性使算法能夠以不同的模式運行，處理輪廓精度和能耗之間的折中。所提出的技術已經在模擬商業WBSN平台中實施，以分析其計算負擔和存儲器佔用空間，表明其可以執行完整的高精度實時ECG描繪，其計算負擔為8.5％（僅僅考慮8.6週的電池壽命數據採集和處理），類似於小波方法，並且僅實時檢測QRS波峰，將計算負荷減少到只有0.2％（電池壽命的31週），並且相對於完整的劃定。<br>
系統也可以配置為自動<br>
The presented algorithm has the advantage of being highly adaptive and modular. The system is able to automatically modify the sampling rate or to disable some modules of the algorithm such as for P or T wave detectors, or the detection of onsets and ends of the ECG waves, depending whether a complete delineation is needed, because an abnormal cardiac event is detected, or performing a reduced delineation the rest of the time for energy saving. This flexibility allows the algorithm to be able to operate in different modes dealing with the tradeoff between delineation accuracy and energy consumption. The proposed technique has been implemented in a simulated commercial WBSN platform to analyze its computational burden and memory footprint showing that it can perform a complete high-accuracy real-time ECG delineation with a computational burden of 8.5% (8.6 weeks of battery lifetime just considering data acquisition and processing), similar to thewavelet approach in, and also a real-time detection of only the QRS peaks, reducing the computational load to only 0.2% (31 weeks of battery lifetime) and achieving 70% power saving with respect to a complete delineation.</p><p>該系統還可以配置為在模式之間自動切換，表示為自適應模式，以便在心律失常期間執行完整的高精度描繪以及在未檢測到心律失常時進行有限的超低功率檢測。該模式的組合計算負荷為1.3％（電池壽命為21.7週）。<br>
The system can also be configured to automatically switch between modes, denoted as Adaptivemode, in order to perform a full high-accuracy delineation during arrhythmias and a limited ultra-low power detection when no arrhythmia is detected. This mode has a combined computational load of 1.3% (21.7 weeks of battery lifetime).</p><p>它的低複雜性，劃分模塊化，低功耗以及對ECG採樣速率的簡單快速適應性提供了極大的靈活性，並且使所提出的算法成為用於實際有限資源的嵌入式醫療設備的有用工具時間的應用程序。<br>
Its low complexity, modularity in the delineation, low-power consumption, as well as its easy and quick adaptability to the ECG sampling rate, offer a great flexibility and qualify the proposed algorithm as an useful tool for embedded medical devices with limited resources for real-time applications.</p><h1 id="參考文獻"><a class="anchor hidden-xs" href="#參考文獻" title="參考文獻"><span class="octicon octicon-link"></span></a>參考文獻</h1><p>[1] J. Pan and W. J. Tompkins, “A real-time QRS detection algorithm,” IEEE<br>
Trans. Biomed. Eng., vol. BME-32, no. 3, pp. 230–236, Mar. 1985.<br>
[2] V. Bono et al., “Development of an automated updated selvester QRS scoring system using SWT-based QRS fractionation detection and classification,” IEEE J. Biomed. Health Informat., vol. 18, no. 1, pp. 193–204, Jan. 2014.<br>
[3] C. Li, C. Zheng, and C. Tai, “Detection of ECG characteristic points using wavelet transforms,” IEEE Trans. Biomed. Eng., vol. 42, no. 1, pp. 21–28, Jan. 1995.<br>
[4] J. Sahambi, S. Tandon, and R. Bhatt, “Using wavelet transforms for ECG characterization. An on-line digital signal processing system,” IEEE Eng.<br>
Med. Biol. Mag., vol. 16, no. 1, pp. 77–83, Jan./Feb. 1997.<br>
[5] J. P. Mart´ınez, R. Almeida, S. Olmos, A. P. Rocha, and P. Laguna, “A wavelet-based ECG delineator: Evaluation on standard databases,” IEEE Trans. Biomed. Eng., vol. 51, no. 4, pp. 570–581, Apr. 2004.<br>
[6] D. Benitez, P. Gaydecki, A. Zaidi, and A. Fitzpatrick, “The use of the hilbert transform in ECG signal analysis,” Comput. Biol. Med., vol. 31, no. 5, pp. 399–406, 2001.<br>
[7] A. Martinez, R. Alcaraz, and J. J. Rieta, “Automatic electrocardiogram delineator based on the phasor transform of single lead recordings,” in<br>
Proc. Comput. Cardiol., 2010, pp. 987–990.<br>
[8] H. Vullings, M. Verhaegen, and H. Verbruggen, “Automated ECG segmentation with dynamic time warping,” in Proc. 20th Annu. Int. Conf. IEEE Eng. Med. Biol. Soc., Oct. 1998, vol. 1, pp. 163–166.<br>
[9] Z. Dokur, T. Olmez, M. Korurek, and E. Yazgan, “Detection of ECG waveforms by using artificial neural networks,” in Proc. 18th Annu. Int. Conf. IEEE Eng. Med. Biol. Soc., Oct. 1996, vol. 3, pp. 929–930.<br>
[10] S. Graja and J.-M. Boucher, “Hidden markov tree model applied to ecg delineation,” IEEE Trans. Instrum. Meas., vol. 54, no. 6, pp. 2163–2168,<br>
Dec. 2005.<br>
[11] E. B. Mazomenos, T.Chen, A. charyya, A.Bhattacharya, J.Rosengarten, and K. Maharatna, “A time-domain morphology and gradient based algorithm for ECG feature extraction,” in Proc. IEEE Int. Conf. Ind. Technol.,<br>
Mar. 2012, pp. 117–122.<br>
[12] Y. Sun, K. Luk Chan, and S.Muthu Krishnan, “ Characteristic wave detection in ECG signal using morphological transform,” BMC Cardiovascular Disorders, vol. 5, no. 1, 2005, Art. no. 28.<br>
[13] Corventis NUVANT Mobile Cardiac Telemetry System, 2017. [Online].Available: <a href="http://www.corventis.com/" target="_blank">http://www.corventis.com/</a><br>
[14] Vital Connect HealthPatch MD, 2017. [Online]. Available: <a href="http://www.vitalconnect.com/" target="_blank">http://www.vitalconnect.com/</a><br>
[15] Preventice BodyGuardian Remote Monitoring System, 2017. [Online].Available: <a href="http://www.preventice.com/" target="_blank">http://www.preventice.com/</a><br>
[16] Fitbit, 2017. [Online]. Available: <a href="https://www.fitbit.com/" target="_blank">https://www.fitbit.com/</a><br>
[17] Garmin, V´ıvo-Series, 2017. [Online]. Available: <a href="https://explore.garmin.com/en-US/vivo-fitness/" target="_blank">https://explore.garmin.com/en-US/vivo-fitness/</a><br>
[18] Polar, M400, 2017. [Online]. Available: <a href="https://www.polar.com/en/products/sport/M400" target="_blank">https://www.polar.com/en/products/sport/M400</a><br>
[19] Cronovo, 2017. [Online]. Available: <a href="http://www.cronovo.com/" target="_blank">http://www.cronovo.com/</a><br>
[20] QardioCore, 2017. [Online]. Available: <a href="https://www.getqardio.com/qardiocore-wearable-ecg-ekg-monitor-iphone/" target="_blank">https://www.getqardio.com/qardiocore-wearable-ecg-ekg-monitor-iphone/</a><br>
[21] F. Rinc´on, J. Recas, N. Khaled, and D. Atienza, “Development and evaluation ofmultileadwavelet-based ECGdelineation algorithms for embedded wireless sensor nodes,” IEEE Trans. Inf. Technol. Biomed., vol. 15, no. 6, pp. 854–863, Nov. 2011.<br>
[22] R. Braojos Lopez, G. Ansaloni, and D. Atienza Alonso, “A methodology for embedded classification of heartbeats using random projections,” in Proc. Des. Autom. Test Europe Conf., 2013, pp. 899–904.<br>
[23] N. Bayasi, T. Tekeste, H. Saleh, B. Mohammad, A. Khandoker, and M. Ismail, “Low-power ECG-based processor for predicting ventricular arrhythmia,” IEEE Trans. Very Large Scale Integr. Syst., vol. 24, no. 5, pp. 1962–1974, May 2016.<br>
[24] S. A. Guidera and J. S. Steinberg, “The signal-averaged P wave duration: A rapid and noninvasivemarker of risk of atrial fibrillation,” J. Amer. Coll. Cardiol., vol. 21, no. 7, pp. 1645–1651, 1993.<br>
[25] C. Saritha, V. Sukanya, and Y. N. Murthy, “ECG signal analysis using wavelet transforms,” Bulgarian J. Phys., vol. 35, no. 1, pp. 68–77, 2008.<br>
[26] R. B. Northrop, Noninvasive Instrumentation and Measurement inMedical Diagnosis. Boca Raton, FL, USA: CRC Press, 2001.<br>
[27] J. Van Alste and T. Schilder, “Removal of base-line wander and powerline interference from the ECG by an efficient FIR filter with a reduced number of taps,” IEEE Trans. Biomed. Eng., vol. BME-32, no. 12, pp. 1052–1060, Dec. 1985.<br>
[28] Y. Sun, K. L. Chan, and S. M. Krishnan, “ECG signal conditioning by morphological filtering,” Comput. Biol. Med., vol. 32, no. 6, pp. 465–479, 2002.<br>
[29] M. Gertsch, The ECG: A Two-Step Approach to Diagnosis. New York, NY, USA: Springer, 2003.<br>
[30] P. Laguna, R. G. Mark, A. Goldberg, and G. B. Moody, “A database for evaluation of algorithms for measurement of QT and other waveform intervals in the ECG,” in Proc. Comput. Cardiol., 1997, pp. 673–676.<br>
[31] A. L. Goldberger et al., “Physiobank, physiotoolkit, and physionet components<br>
of a new research resource for complex physiologic signals,” Circulation, vol. 101, no. 23, pp. e215–e220, 2000.<br>
[32] I. Silva and G. Moody, “An open-source toolbox for analysing and processing PhysioNet databases inMATLAB and Octave,” J. Open Res. Soft., vol. 2, no. 1, p. e27, 2014.<br>
[33] Testing and Reporting Performance Results of Cardiac Rhythm and ST Segment Measurement Algorithms. NSI/AAMI EC57:1998/®2008 (Revision of AAMI ECAR:1987), Association for the Advancement of Medical Instrumentation, 1999.<br>
[34] L.Y. Di Marco and L. Chiari, “Awavelet-basedECGdelineation algorithm for 32-bit integer online processing,” Biomed. Eng. Online, vol. 10, no. 1, 2011, Art. no. 23.<br>
[35] The CSE Working Party, “Recommendations for measurement standards in quantitative electrocardiography,” Eur. Heart J., vol. 6, no. 10, pp. 815–825, 1985.<br>
[36] S. Mehta and N. Lingayat, “Detection of P and T-waves in electrocardiogram,”<br>
in Proc. World Congr. Eng. Comput. Sci., 2008, pp. 22–24.<br>
[37] Texas Instruments, ADS1292, 2017. [Online]. Available: <a href="http://www.ti.com/product/ADS1292" target="_blank">http://www.ti.com/product/ADS1292</a><br>
[38] G. B. Moody and R. G. Mark, “The impact of the MIT-BIH arrhythmia database,” IEEE Eng. Med. Biol.Mag., vol. 20, no. 3, pp. 45–50, May/Jun. 2001.<br>
[39] G. B. Moody and R. G. Mark, “The MIT-BIH Arrhythmia Database on CD-ROM and software for use with it,” in Proc. Comput. Cardiol., 1990, pp. 185–188.<br>
[40] E. B. Mazomenos et al., “A low-complexity ECG feature extraction algorithm for mobile healthcare applications,” IEEE J. Biomed. Health Informat., vol. 17, no. 2, pp. 459–469, Mar. 2013.<br>
[41] Shimmer, 2017. [Online]. Available: <a href="http://www.shimmersensing.com" target="_blank">http://www.shimmersensing.com</a><br>
[42] J. Eriksson, A. Dunkels, N. Finne, F. Osterlind, and T. Voigt, “Mspsim- an extensible simulator for msp430-equipped sensor boards,” in Proc. Eur. Conf. Wireless Sens. Netw., 2007, p. 27.<br>
[43] R. Yates, Practical Considerations in Fixed-Point FIR Filter Implementations,Digital Signal Labs, Technical Reference, Mar. 2010.<br>
[44] IP LogiCORE FIR Compiler v5.0, Xilinx, San Jose, CA, USA, 2011.</p><h1 id="心得"><a class="anchor hidden-xs" href="#心得" title="心得"><span class="octicon octicon-link"></span></a>心得</h1><iframe src="https://drive.google.com/file/d/17yLVkUaywikpec2H2UYVZNEPUzVOsBlg/preview" width="640" height="480"></iframe><div class="resize-sensor" style="position: absolute; left: 0px; top: 0px; right: 0px; bottom: 0px; overflow: hidden; z-index: -1; visibility: hidden;"><div class="resize-sensor-expand" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0px; top: 0px; transition: 0s; width: 100000px; height: 100000px;"></div></div><div class="resize-sensor-shrink" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s; width: 200%; height: 200%"></div></div></div></div>
    <div class="ui-toc dropup unselectable hidden-print" style="display:none;">
        <div class="pull-right dropdown">
            <a id="tocLabel" class="ui-toc-label btn btn-default" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false" title="Table of content">
                <i class="fa fa-bars"></i>
            </a>
            <ul id="ui-toc" class="ui-toc-dropdown dropdown-menu" aria-labelledby="tocLabel">
                <div class="toc"><ul class="nav"><li class=""><a href="#A-Modular-Low-Complexity-ECG-Delineation-Algorithm-for-Real-Time-Embedded-Systems" title="A Modular Low-Complexity ECG Delineation Algorithm for Real-Time Embedded Systems">A Modular Low-Complexity ECG Delineation Algorithm for Real-Time Embedded Systems</a></li><li class=""><a href="#摘要" title="摘要">摘要</a></li><li class=""><a href="#I介紹" title="I.介紹">I.介紹</a></li><li class=""><a href="#II心電圖劃分演算法" title="II.心電圖劃分演算法">II.心電圖劃分演算法</a><ul class="nav"><li class=""><a href="#A-Peaks-Module" title="A. Peaks Module">A. Peaks Module</a></li><li class=""><a href="#B-On-End-Module" title="B. On-End Module">B. On-End Module</a><ul class="nav"><li class=""><a href="#1-QRS-on-End-Module" title="1) QRS-on-End Module">1) QRS-on-End Module</a></li><li class=""><a href="#2-P-on-End-Module" title="2) P-on-End Module">2) P-on-End Module</a></li><li class=""><a href="#3-T-End-Module" title="3) T-End Module">3) T-End Module</a></li></ul></li><li class=""><a href="#C-Validation-of-the-Algorithm" title="C. Validation of the Algorithm">C. Validation of the Algorithm</a></li><li class=""><a href="#D-Adjusting-the-Algorithm-Parameters" title="D. Adjusting the Algorithm Parameters">D. Adjusting the Algorithm Parameters</a></li><li class=""><a href="#E-Computational-Cost-Versus-Accuracy-Tradeoff" title="E. Computational Cost Versus Accuracy Tradeoff">E. Computational Cost Versus Accuracy Tradeoff</a></li></ul></li><li class=""><a href="#III實驗結果" title="III.實驗結果">III.實驗結果</a><ul class="nav"><li class=""><a href="#A-Comparison-With-Other-Methods" title="A. Comparison With Other Methods">A. Comparison With Other Methods</a></li><li class=""><a href="#B-MIT-BIH-Arrhythmia-Database" title="B. MIT-BIH Arrhythmia Database">B. MIT-BIH Arrhythmia Database</a><ul class="nav"><li class=""><a href="#1-Noise" title="1) Noise">1) Noise</a></li></ul></li><li class=""><a href="#C-Estimated-Number-of-Arithmetic-Operations" title="C. Estimated Number of Arithmetic Operations">C. Estimated Number of Arithmetic Operations</a><ul class="nav"><li class=""><a href="#1-FIR-Filtering" title="1) FIR Filtering">1) FIR Filtering</a></li><li class=""><a href="#2-Morphological-Filtering" title="2) Morphological Filtering">2) Morphological Filtering</a></li></ul></li><li class=""><a href="#D-Real-Time-Simulation" title="D. Real-Time Simulation">D. Real-Time Simulation</a></li></ul></li><li class=""><a href="#IV-總結" title="IV. 總結">IV. 總結</a></li><li class=""><a href="#參考文獻" title="參考文獻">參考文獻</a></li><li class=""><a href="#心得" title="心得">心得</a></li></ul></div><div class="toc-menu"><a class="expand-toggle" href="#">Expand all</a><a class="back-to-top" href="#">Back to top</a><a class="go-to-bottom" href="#">Go to bottom</a></div>
            </ul>
        </div>
    </div>
    <div id="ui-toc-affix" class="ui-affix-toc ui-toc-dropdown unselectable hidden-print" data-spy="affix" style="top:17px;display:none;"  >
        <div class="toc"><ul class="nav"><li class=""><a href="#A-Modular-Low-Complexity-ECG-Delineation-Algorithm-for-Real-Time-Embedded-Systems" title="A Modular Low-Complexity ECG Delineation Algorithm for Real-Time Embedded Systems">A Modular Low-Complexity ECG Delineation Algorithm for Real-Time Embedded Systems</a></li><li class=""><a href="#摘要" title="摘要">摘要</a></li><li class=""><a href="#I介紹" title="I.介紹">I.介紹</a></li><li class=""><a href="#II心電圖劃分演算法" title="II.心電圖劃分演算法">II.心電圖劃分演算法</a><ul class="nav"><li class=""><a href="#A-Peaks-Module" title="A. Peaks Module">A. Peaks Module</a></li><li class=""><a href="#B-On-End-Module" title="B. On-End Module">B. On-End Module</a><ul class="nav"><li class=""><a href="#1-QRS-on-End-Module" title="1) QRS-on-End Module">1) QRS-on-End Module</a></li><li class=""><a href="#2-P-on-End-Module" title="2) P-on-End Module">2) P-on-End Module</a></li><li class=""><a href="#3-T-End-Module" title="3) T-End Module">3) T-End Module</a></li></ul></li><li class=""><a href="#C-Validation-of-the-Algorithm" title="C. Validation of the Algorithm">C. Validation of the Algorithm</a></li><li class=""><a href="#D-Adjusting-the-Algorithm-Parameters" title="D. Adjusting the Algorithm Parameters">D. Adjusting the Algorithm Parameters</a></li><li class=""><a href="#E-Computational-Cost-Versus-Accuracy-Tradeoff" title="E. Computational Cost Versus Accuracy Tradeoff">E. Computational Cost Versus Accuracy Tradeoff</a></li></ul></li><li class=""><a href="#III實驗結果" title="III.實驗結果">III.實驗結果</a><ul class="nav"><li class=""><a href="#A-Comparison-With-Other-Methods" title="A. Comparison With Other Methods">A. Comparison With Other Methods</a></li><li class=""><a href="#B-MIT-BIH-Arrhythmia-Database" title="B. MIT-BIH Arrhythmia Database">B. MIT-BIH Arrhythmia Database</a><ul class="nav"><li class=""><a href="#1-Noise" title="1) Noise">1) Noise</a></li></ul></li><li class=""><a href="#C-Estimated-Number-of-Arithmetic-Operations" title="C. Estimated Number of Arithmetic Operations">C. Estimated Number of Arithmetic Operations</a><ul class="nav"><li class=""><a href="#1-FIR-Filtering" title="1) FIR Filtering">1) FIR Filtering</a></li><li class=""><a href="#2-Morphological-Filtering" title="2) Morphological Filtering">2) Morphological Filtering</a></li></ul></li><li class=""><a href="#D-Real-Time-Simulation" title="D. Real-Time Simulation">D. Real-Time Simulation</a></li></ul></li><li class=""><a href="#IV-總結" title="IV. 總結">IV. 總結</a></li><li class=""><a href="#參考文獻" title="參考文獻">參考文獻</a></li><li class=""><a href="#心得" title="心得">心得</a></li></ul></div><div class="toc-menu"><a class="expand-toggle" href="#">Expand all</a><a class="back-to-top" href="#">Back to top</a><a class="go-to-bottom" href="#">Go to bottom</a></div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gist-embed/2.6.0/gist-embed.min.js" integrity="sha256-KyF2D6xPIJUW5sUDSs93vWyZm+1RzIpKCexxElmxl8g=" crossorigin="anonymous" defer></script>
    <script>
        var markdown = $(".markdown-body");
        //smooth all hash trigger scrolling
        function smoothHashScroll() {
            var hashElements = $("a[href^='#']").toArray();
            for (var i = 0; i < hashElements.length; i++) {
                var element = hashElements[i];
                var $element = $(element);
                var hash = element.hash;
                if (hash) {
                    $element.on('click', function (e) {
                        // store hash
                        var hash = this.hash;
                        if ($(hash).length <= 0) return;
                        // prevent default anchor click behavior
                        e.preventDefault();
                        // animate
                        $('body, html').stop(true, true).animate({
                            scrollTop: $(hash).offset().top
                        }, 100, "linear", function () {
                            // when done, add hash to url
                            // (default click behaviour)
                            window.location.hash = hash;
                        });
                    });
                }
            }
        }

        smoothHashScroll();
        var toc = $('.ui-toc');
        var tocAffix = $('.ui-affix-toc');
        var tocDropdown = $('.ui-toc-dropdown');
        //toc
        tocDropdown.click(function (e) {
            e.stopPropagation();
        });

        var enoughForAffixToc = true;

        function generateScrollspy() {
            $(document.body).scrollspy({
                target: ''
            });
            $(document.body).scrollspy('refresh');
            if (enoughForAffixToc) {
                toc.hide();
                tocAffix.show();
            } else {
                tocAffix.hide();
                toc.show();
            }
            $(document.body).scroll();
        }

        function windowResize() {
            //toc right
            var paddingRight = parseFloat(markdown.css('padding-right'));
            var right = ($(window).width() - (markdown.offset().left + markdown.outerWidth() - paddingRight));
            toc.css('right', right + 'px');
            //affix toc left
            var newbool;
            var rightMargin = (markdown.parent().outerWidth() - markdown.outerWidth()) / 2;
            //for ipad or wider device
            if (rightMargin >= 133) {
                newbool = true;
                var affixLeftMargin = (tocAffix.outerWidth() - tocAffix.width()) / 2;
                var left = markdown.offset().left + markdown.outerWidth() - affixLeftMargin;
                tocAffix.css('left', left + 'px');
            } else {
                newbool = false;
            }
            if (newbool != enoughForAffixToc) {
                enoughForAffixToc = newbool;
                generateScrollspy();
            }
        }
        $(window).resize(function () {
            windowResize();
        });
        $(document).ready(function () {
            windowResize();
            generateScrollspy();
        });

        //remove hash
        function removeHash() {
            window.location.hash = '';
        }

        var backtotop = $('.back-to-top');
        var gotobottom = $('.go-to-bottom');

        backtotop.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            if (scrollToTop)
                scrollToTop();
            removeHash();
        });
        gotobottom.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            if (scrollToBottom)
                scrollToBottom();
            removeHash();
        });

        var toggle = $('.expand-toggle');
        var tocExpand = false;

        checkExpandToggle();
        toggle.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            tocExpand = !tocExpand;
            checkExpandToggle();
        })

        function checkExpandToggle () {
            var toc = $('.ui-toc-dropdown .toc');
            var toggle = $('.expand-toggle');
            if (!tocExpand) {
                toc.removeClass('expand');
                toggle.text('Expand all');
            } else {
                toc.addClass('expand');
                toggle.text('Collapse all');
            }
        }

        function scrollToTop() {
            $('body, html').stop(true, true).animate({
                scrollTop: 0
            }, 100, "linear");
        }

        function scrollToBottom() {
            $('body, html').stop(true, true).animate({
                scrollTop: $(document.body)[0].scrollHeight
            }, 100, "linear");
        }
    </script>
</body>

</html>
